<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="author" content="Jason Wills Chiu">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Predictive Fishing part 2 - Data Wrangling | Jason Wills Chiu</title>
        <!-- to get highcharts to work -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.10/require.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>

	<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
	<link rel="icon" href="/favicon.ico" type="image/x-icon">
        <link rel="alternate" type="application/atom+xml" title="Jason Wills Chiu blog atom feed" href="/feeds/all.atom.xml" />
        <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700' rel='stylesheet' type='text/css'>

        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
        <link rel="stylesheet" type="text/css" href="/theme/css/icons.css"/>
        <style>.highlight .hll { background-color: #ffffcc }
.highlight .c { color: #60a0b0; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #007020; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .cm { color: #60a0b0; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #007020 } /* Comment.Preproc */
.highlight .c1 { color: #60a0b0; font-style: italic } /* Comment.Single */
.highlight .cs { color: #60a0b0; background-color: #fff0f0 } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #808080 } /* Generic.Output */
.highlight .gp { color: #c65d09; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0040D0 } /* Generic.Traceback */
.highlight .kc { color: #007020; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #007020; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #007020; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #007020 } /* Keyword.Pseudo */
.highlight .kr { color: #007020; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #902000 } /* Keyword.Type */
.highlight .m { color: #40a070 } /* Literal.Number */
.highlight .s { color: #4070a0 } /* Literal.String */
.highlight .na { color: #4070a0 } /* Name.Attribute */
.highlight .nb { color: #007020 } /* Name.Builtin */
.highlight .nc { color: #0e84b5; font-weight: bold } /* Name.Class */
.highlight .no { color: #60add5 } /* Name.Constant */
.highlight .nd { color: #555555; font-weight: bold } /* Name.Decorator */
.highlight .ni { color: #d55537; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #007020 } /* Name.Exception */
.highlight .nf { color: #06287e } /* Name.Function */
.highlight .nl { color: #002070; font-weight: bold } /* Name.Label */
.highlight .nn { color: #0e84b5; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #062873; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #bb60d5 } /* Name.Variable */
.highlight .ow { color: #007020; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mf { color: #40a070 } /* Literal.Number.Float */
.highlight .mh { color: #40a070 } /* Literal.Number.Hex */
.highlight .mi { color: #40a070 } /* Literal.Number.Integer */
.highlight .mo { color: #40a070 } /* Literal.Number.Oct */
.highlight .sb { color: #4070a0 } /* Literal.String.Backtick */
.highlight .sc { color: #4070a0 } /* Literal.String.Char */
.highlight .sd { color: #4070a0; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #4070a0 } /* Literal.String.Double */
.highlight .se { color: #4070a0; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #4070a0 } /* Literal.String.Heredoc */
.highlight .si { color: #70a0d0; font-style: italic } /* Literal.String.Interpol */
.highlight .sx { color: #c65d09 } /* Literal.String.Other */
.highlight .sr { color: #235388 } /* Literal.String.Regex */
.highlight .s1 { color: #4070a0 } /* Literal.String.Single */
.highlight .ss { color: #517918 } /* Literal.String.Symbol */
.highlight .bp { color: #007020 } /* Name.Builtin.Pseudo */
.highlight .vc { color: #bb60d5 } /* Name.Variable.Class */
.highlight .vg { color: #bb60d5 } /* Name.Variable.Global */
.highlight .vi { color: #bb60d5 } /* Name.Variable.Instance */
.highlight .il { color: #40a070 } /* Literal.Number.Integer.Long */</style>
        <style>body {
  margin: 0;
  padding: 0;
  font: 15px 'Source Sans Pro', sans-serif;
  line-height: 1.6em;
  color: #222;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
}

   /*navbar background color and settings*/
.navbar {
  background-color: #0B3A62;
  border-bottom: 0px solid #0B3A62;

  /*display: block;*/
  float: none;
	line-height: 30px;
  /*position: relative;*/
	margin: 0 auto 2em auto;
	padding:0 30px;
  text-align: center;
  /*width: 100%;*/

}
/* trying some screen magic from Emmet*/
.highcharts-container { width: 100% }

/* checks screen size is at least that min width*/
@media (min-width: 1200px) {

    .navbar {
      width: 1200px;
      text-align: center;
    }

    /*.navbar .navbar-nav {
        display: inline-block;
        float: none;
        vertical-align: top;
        text-align: center;
    }

    .navbar .navbar-collapse {
        text-align: center;
    }*/
}

/* the navbar title text color */
.navbar .navbar-brand, .navbar-brand:hover {
      color: #ECEEFF;
      background: #0B3A62;
    }

  /* navbar links on the right text  */
.nav.navbar-nav li a {
    color: #ECEEFF;
    font-size: 16px
    /*display:inline;*/
}

  /* Added to remove ugly pilcrow (reverse p) */
.anchor-link {
  font-size: 0;
}


/* start of jakevdp default */

a {
  color: #007EE5;
  text-decoration: none;
}
a:hover {
  color: #007EE5;
  text-decoration: none;
}
header.main-header {
  background: none repeat scroll 0% 0% #0B3A62;
  margin-bottom: 0px;
}
header.main-header a {
  color: #fff;
}
header.main-header .container {
  /*max-width: 1000px;*/
  text-align: center;
}
header.main-header .container nav a:hover {
  background-color: #0D406E;
  text-align: center;
}
article {
  margin: 0;
}
article header.about {
  margin-bottom: 0px;
  padding-bottom: 0px;
}
article header {
  margin-bottom: 20px;
  padding-bottom: 20px;
}
article header h1 {
  margin-bottom: 2px;
  font-weight: 700;
  color: #000;
}
article header time {
  color: #d1d1d1;
  font-size: 0.85em;
  float: right;
}
article header time.left {
  color: #d1d1d1;
  font-size: 0.85em;
  float: left;
}
article div.social-links ul {
  padding: 0px;
}
article div.social-links li {
  display: inline;
  font-size: 20px;
}
article div.social-links li a {
  color: #000;
  padding: 10px;
}
article div.social-links li a:hover {
  color: #666;
  text-decoration: none;
}
article p {
  font-size: 16px;
  margin-bottom: 20px;
  line-height: 1.6em;
}
article p.note {
  background: #f5f5f5;
  border: 1px solid #ddd;
  padding: 0.533em 0.733em;
}
article p.update {
  background-color: #FEEFB3;
  border: 1px solid #e6e68a;
  padding: 0.533em 0.733em;
}
article p.alert {
  background-color: #ffe2e2;
  border: 1px solid #ffb2b2;
  padding: 0.533em 0.733em;
}
article ul,
article ol {
  margin-top: 0px;
  margin-bottom: 25px;
}
article li {
  font-size: 16px;
  line-height: 1.6em;
}
article a:hover {
  text-decoration: underline;
}
article blockquote {
  border-left: 2px solid #c7c7cc;
  color: #666;
  margin: 30px 0;
  padding: 0 0 0 25px;
}
article img {
  max-width: 100%;
}
article code {
  color: #333;
  background-color: #EEE;
  border-radius: 0;
  font-size: 13px;
}
article .meta {
  font-size: 11px;
}
article .meta a:hover {
  text-decoration: none;
}
article .meta div {
  margin-bottom: 20px;
  display: block;
}
article .meta a.tag {
  margin: 0 10px 10px 0;
  padding: 1px 12px;
  display: inline-block;
  font-size: 14px;
  color: rgba(0, 0, 0, 0.8);
  background: rgba(0, 0, 0, 0.05);
}
article .meta a.tag:hover {
  background: rgba(0, 0, 0, 0.15);
}
article .meta a.read_more,
article .meta a.comments_btn {
  font-size: 14px;
  font-weight: 800;
  padding: 10px 20px;
  color: #0B3A62;
  background: #FFF;
  border: 1px solid #0B3A62;
}
article .meta a.read_more:hover,
article .meta a.comments_btn:hover {
  color: #FFF;
  background: #0D406E;
}
.index {
  max-width: 1000px;
}
.index article header h2 {
  font-size: 36px;
  margin-bottom: 2px;
  font-weight: 700;
}
.index article header h2 a {
  color: #000;
}
.index article header h2 a:hover {
  color: #007EE5;
  text-decoration: none;
}
.index .separator {
  padding: 40px 0 0 0;
  margin: 0 0 40px 0;
  height: 10px;
  border-bottom: solid 1px #CCC;
}
.index .pagination {
  display: block;
  margin-bottom: 100px;
}
.index .pagination .left {
  text-align: right;
}
.index .pagination .right {
  text-align: left;
}
.index .pagination a {
  display: inline-block;
  border: 2px solid #0D406E;
  margin: 0 5px;
  padding: 8px 20px;
  font-weight: bold;
  color: #0D406E;
}
.index .pagination a:hover {
  color: #FFF;
  background: #0D406E;
}
.post {
  max-width: 1000px;
}
.post h2:before {
  content: "# ";
  font-weight: bold;
  color: #DDD;
}
.post h3:before {
  content: "## ";
  font-weight: bold;
  color: #DDD;
}
.post h4:before {
  content: "### ";
  font-weight: bold;
  color: #DDD;
}
.post article .meta {
  margin: 50px 0 100px;
}
.list {
  max-width: 1000px;
}
.list ul.double-list {
  margin: 0 auto 60px;
  padding: 0;
  list-style-type: none;
}
.list ul.double-list li {
  padding: 5px 0;
}
.list ul.double-list li h2 {
  font-size: 1em;
  display: inline;
  font-weight: normal;
}
.list ul.double-list li span {
  font-family: sans-serif;
  text-transform: uppercase;
  text-align: right;
  float: right;
  padding-top: 3px;
  font-size: 12px;
  color: #999;
}
.full-width-content {
  padding-top: 10px;
  padding-left: 0px;
  padding-right: 0px;
  margin-left: -20px;
  margin-right: -20px;
}
.col-xs-1,
.col-sm-1,
.col-md-1,
.col-lg-1,
.col-xs-2,
.col-sm-2,
.col-md-2,
.col-lg-2,
.col-xs-3,
.col-sm-3,
.col-md-3,
.col-lg-3,
.col-xs-4,
.col-sm-4,
.col-md-4,
.col-lg-4,
.col-xs-5,
.col-sm-5,
.col-md-5,
.col-lg-5,
.col-xs-6,
.col-sm-6,
.col-md-6,
.col-lg-6,
.col-xs-7,
.col-sm-7,
.col-md-7,
.col-lg-7,
.col-xs-8,
.col-sm-8,
.col-md-8,
.col-lg-8,
.col-xs-9,
.col-sm-9,
.col-md-9,
.col-lg-9,
.col-xs-10,
.col-sm-10,
.col-md-10,
.col-lg-10,
.col-xs-11,
.col-sm-11,
.col-md-11,
.col-lg-11,
.col-xs-12,
.col-sm-12,
.col-md-12,
.col-lg-12 {
  padding-right: 0px;
  padding-left: 0px;
}</style>

        <!-- to view highcharts -->
        <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
      	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script> -->

        <!-- Loading mathjax macro -->
        <!-- Load mathjax -->
            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_HTML"></script>
            <!-- MathJax configuration -->
            <script type="text/x-mathjax-config">
            MathJax.Hub.Config({
                tex2jax: {
                    inlineMath: [ ['$','$'], ["\\(","\\)"] ],
                    displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
                    processEscapes: true,
                    processEnvironments: true
                },
                // Center justify equations in code and markdown cells. Elsewhere
                // we use CSS to left justify single line equations in code cells.
                displayAlign: 'center',
                "HTML-CSS": {
                    styles: {'.MathJax_Display': {"margin": 0}},
                    linebreaks: { automatic: true }
                }
            });
            </script>
            <!-- End of mathjax configuration --></head>

    </head>

    <body>
        <header class="navbar navbar-inverse bs-docs-nav">
            <div class="container-fluid">
                <div class="navbar-header">
		  <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#theNavbar">
		    <span class="icon-bar"></span>
		    <span class="icon-bar"></span>
		    <span class="icon-bar"></span>
		  </button>
                  <a class="navbar-brand" href="/" title="Home" class="title">Jason Wills Chiu</a>
                </div>
                <nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation" id="theNavbar">
		    <ul class="nav navbar-nav">
                            <li><a href="/pages/about.html" title="About">About</a></li>
                            <li><a href="/archives.html" title="Archive">Archive</a></li>
                    </ul>
                </nav>
            </div>
        </header>

        <div id="wrap">
<div class="container post">
    <article>
        <header>
            <h1>Predictive Fishing part 2 - Data Wrangling</h1>
            <time datetime="article.date.isoformat()" pubdate>Sun 04 February 2018</time>
        </header>

        <div class="article_content">
            <style type="text/css">/*!
*
* IPython notebook
*
*/
/* CSS font colors for translated ANSI colors. */
.ansibold {
  font-weight: bold;
}
/* use dark versions for foreground, to improve visibility */
.ansiblack {
  color: black;
}
.ansired {
  color: darkred;
}
.ansigreen {
  color: darkgreen;
}
.ansiyellow {
  color: #c4a000;
}
.ansiblue {
  color: darkblue;
}
.ansipurple {
  color: darkviolet;
}
.ansicyan {
  color: steelblue;
}
.ansigray {
  color: gray;
}
/* and light for background, for the same reason */
.ansibgblack {
  background-color: black;
}
.ansibgred {
  background-color: red;
}
.ansibggreen {
  background-color: green;
}
.ansibgyellow {
  background-color: yellow;
}
.ansibgblue {
  background-color: blue;
}
.ansibgpurple {
  background-color: magenta;
}
.ansibgcyan {
  background-color: cyan;
}
.ansibggray {
  background-color: gray;
}
div.cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  border-radius: 2px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  border-width: 1px;
  border-style: solid;
  border-color: transparent;
  width: 100%;
  padding: 5px;
  /* This acts as a spacer between cells, that is outside the border */
  margin: 0px;
  outline: none;
  border-left-width: 1px;
  padding-left: 5px;
  background: linear-gradient(to right, transparent -40px, transparent 1px, transparent 1px, transparent 100%);
}
div.cell.jupyter-soft-selected {
  border-left-color: #90CAF9;
  border-left-color: #E3F2FD;
  border-left-width: 1px;
  padding-left: 5px;
  border-right-color: #E3F2FD;
  border-right-width: 1px;
  background: #E3F2FD;
}
@media print {
  div.cell.jupyter-soft-selected {
    border-color: transparent;
  }
}
div.cell.selected {
  border-color: #ababab;
  border-left-width: 0px;
  padding-left: 6px;
  background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 5px, transparent 5px, transparent 100%);
}
@media print {
  div.cell.selected {
    border-color: transparent;
  }
}
div.cell.selected.jupyter-soft-selected {
  border-left-width: 0;
  padding-left: 6px;
  background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 7px, #E3F2FD 7px, #E3F2FD 100%);
}
.edit_mode div.cell.selected {
  border-color: #66BB6A;
  border-left-width: 0px;
  padding-left: 6px;
  background: linear-gradient(to right, #66BB6A -40px, #66BB6A 5px, transparent 5px, transparent 100%);
}
@media print {
  .edit_mode div.cell.selected {
    border-color: transparent;
  }
}
.prompt {
  /* This needs to be wide enough for 3 digit prompt numbers: In[100]: */
  min-width: 14ex;
  /* This padding is tuned to match the padding on the CodeMirror editor. */
  padding: 0.4em;
  margin: 0px;
  font-family: monospace;
  text-align: right;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
  /* Don't highlight prompt number selection */
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  /* Use default cursor */
  cursor: default;
}
@media (max-width: 540px) {
  .prompt {
    text-align: left;
  }
}
div.inner_cell {
  min-width: 0;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_area {
  border: 1px solid #cfcfcf;
  border-radius: 2px;
  background: #f7f7f7;
  line-height: 1.21429em;
}
/* This is needed so that empty prompt areas can collapse to zero height when there
   is no content in the output_subarea and the prompt. The main purpose of this is
   to make sure that empty JavaScript output_subareas have no height. */
div.prompt:empty {
  padding-top: 0;
  padding-bottom: 0;
}
div.unrecognized_cell {
  padding: 5px 5px 5px 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.unrecognized_cell .inner_cell {
  border-radius: 2px;
  padding: 5px;
  font-weight: bold;
  color: red;
  border: 1px solid #cfcfcf;
  background: #eaeaea;
}
div.unrecognized_cell .inner_cell a {
  color: inherit;
  text-decoration: none;
}
div.unrecognized_cell .inner_cell a:hover {
  color: inherit;
  text-decoration: none;
}
@media (max-width: 540px) {
  div.unrecognized_cell > div.prompt {
    display: none;
  }
}
div.code_cell {
  /* avoid page breaking on code cells when printing */
}
@media print {
  div.code_cell {
    page-break-inside: avoid;
  }
}
/* any special styling for code cells that are currently running goes here */
div.input {
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.input {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_prompt {
  color: #303F9F;
  border-top: 1px solid transparent;
}
div.input_area > div.highlight {
  margin: 0.4em;
  border: none;
  padding: 0px;
  background-color: transparent;
}
div.input_area > div.highlight > pre {
  margin: 0px;
  border: none;
  padding: 0px;
  background-color: transparent;
}
/* The following gets added to the <head> if it is detected that the user has a
 * monospace font with inconsistent normal/bold/italic height.  See
 * notebookmain.js.  Such fonts will have keywords vertically offset with
 * respect to the rest of the text.  The user should select a better font.
 * See: https://github.com/ipython/ipython/issues/1503
 *
 * .CodeMirror span {
 *      vertical-align: bottom;
 * }
 */
.CodeMirror {
  line-height: 1.21429em;
  /* Changed from 1em to our global default */
  font-size: 14px;
  height: auto;
  /* Changed to auto to autogrow */
  background: none;
  /* Changed from white to allow our bg to show through */
}
.CodeMirror-scroll {
  /*  The CodeMirror docs are a bit fuzzy on if overflow-y should be hidden or visible.*/
  /*  We have found that if it is visible, vertical scrollbars appear with font size changes.*/
  overflow-y: hidden;
  overflow-x: auto;
}
.CodeMirror-lines {
  /* In CM2, this used to be 0.4em, but in CM3 it went to 4px. We need the em value because */
  /* we have set a different line-height and want this to scale with that. */
  padding: 0.4em;
}
.CodeMirror-linenumber {
  padding: 0 8px 0 4px;
}
.CodeMirror-gutters {
  border-bottom-left-radius: 2px;
  border-top-left-radius: 2px;
}
.CodeMirror pre {
  /* In CM3 this went to 4px from 0 in CM2. We need the 0 value because of how we size */
  /* .CodeMirror-lines */
  padding: 0;
  border: 0;
  border-radius: 0;
}
/*

Original style from softwaremaniacs.org (c) Ivan Sagalaev <Maniac@SoftwareManiacs.Org>
Adapted from GitHub theme

*/
.highlight-base {
  color: #000;
}
.highlight-variable {
  color: #000;
}
.highlight-variable-2 {
  color: #1a1a1a;
}
.highlight-variable-3 {
  color: #333333;
}
.highlight-string {
  color: #BA2121;
}
.highlight-comment {
  color: #408080;
  font-style: italic;
}
.highlight-number {
  color: #080;
}
.highlight-atom {
  color: #88F;
}
.highlight-keyword {
  color: #008000;
  font-weight: bold;
}
.highlight-builtin {
  color: #008000;
}
.highlight-error {
  color: #f00;
}
.highlight-operator {
  color: #AA22FF;
  font-weight: bold;
}
.highlight-meta {
  color: #AA22FF;
}
/* previously not defined, copying from default codemirror */
.highlight-def {
  color: #00f;
}
.highlight-string-2 {
  color: #f50;
}
.highlight-qualifier {
  color: #555;
}
.highlight-bracket {
  color: #997;
}
.highlight-tag {
  color: #170;
}
.highlight-attribute {
  color: #00c;
}
.highlight-header {
  color: blue;
}
.highlight-quote {
  color: #090;
}
.highlight-link {
  color: #00c;
}
/* apply the same style to codemirror */
.cm-s-ipython span.cm-keyword {
  color: #008000;
  font-weight: bold;
}
.cm-s-ipython span.cm-atom {
  color: #88F;
}
.cm-s-ipython span.cm-number {
  color: #080;
}
.cm-s-ipython span.cm-def {
  color: #00f;
}
.cm-s-ipython span.cm-variable {
  color: #000;
}
.cm-s-ipython span.cm-operator {
  color: #AA22FF;
  font-weight: bold;
}
.cm-s-ipython span.cm-variable-2 {
  color: #1a1a1a;
}
.cm-s-ipython span.cm-variable-3 {
  color: #333333;
}
.cm-s-ipython span.cm-comment {
  color: #408080;
  font-style: italic;
}
.cm-s-ipython span.cm-string {
  color: #BA2121;
}
.cm-s-ipython span.cm-string-2 {
  color: #f50;
}
.cm-s-ipython span.cm-meta {
  color: #AA22FF;
}
.cm-s-ipython span.cm-qualifier {
  color: #555;
}
.cm-s-ipython span.cm-builtin {
  color: #008000;
}
.cm-s-ipython span.cm-bracket {
  color: #997;
}
.cm-s-ipython span.cm-tag {
  color: #170;
}
.cm-s-ipython span.cm-attribute {
  color: #00c;
}
.cm-s-ipython span.cm-header {
  color: blue;
}
.cm-s-ipython span.cm-quote {
  color: #090;
}
.cm-s-ipython span.cm-link {
  color: #00c;
}
.cm-s-ipython span.cm-error {
  color: #f00;
}
.cm-s-ipython span.cm-tab {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=);
  background-position: right;
  background-repeat: no-repeat;
}
div.output_wrapper {
  /* this position must be relative to enable descendents to be absolute within it */
  position: relative;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  z-index: 1;
}
/* class for the output area when it should be height-limited */
div.output_scroll {
  /* ideally, this would be max-height, but FF barfs all over that */
  height: 24em;
  /* FF needs this *and the wrapper* to specify full width, or it will shrinkwrap */
  width: 100%;
  overflow: auto;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  display: block;
}
/* output div while it is collapsed */
div.output_collapsed {
  margin: 0px;
  padding: 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
div.out_prompt_overlay {
  height: 100%;
  padding: 0px 0.4em;
  position: absolute;
  border-radius: 2px;
}
div.out_prompt_overlay:hover {
  /* use inner shadow to get border that is computed the same on WebKit/FF */
  -webkit-box-shadow: inset 0 0 1px #000;
  box-shadow: inset 0 0 1px #000;
  background: rgba(240, 240, 240, 0.5);
}
div.output_prompt {
  color: #D84315;
}
/* This class is the outer container of all output sections. */
div.output_area {
  padding: 0px;
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.output_area .MathJax_Display {
  text-align: left !important;
}
div.output_area 
div.output_area 
div.output_area img,
div.output_area svg {
  max-width: 100%;
  height: auto;
}
div.output_area img.unconfined,
div.output_area svg.unconfined {
  max-width: none;
}
/* This is needed to protect the pre formating from global settings such
   as that of bootstrap */
.output {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.output_area {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
div.output_area pre {
  margin: 0;
  padding: 0;
  border: 0;
  vertical-align: baseline;
  color: black;
  background-color: transparent;
  border-radius: 0;
}
/* This class is for the output subarea inside the output_area and after
   the prompt div. */
div.output_subarea {
  overflow-x: auto;
  padding: 0.4em;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
  max-width: calc(100% - 14ex);
}
div.output_scroll div.output_subarea {
  overflow-x: visible;
}
/* The rest of the output_* classes are for special styling of the different
   output types */
/* all text output has this class: */
div.output_text {
  text-align: left;
  color: #000;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
}
/* stdout/stderr are 'text' as well as 'stream', but execute_result/error are *not* streams */
div.output_stderr {
  background: #fdd;
  /* very light red background for stderr */
}
div.output_latex {
  text-align: left;
}
/* Empty output_javascript divs should have no height */
div.output_javascript:empty {
  padding: 0;
}
.js-error {
  color: darkred;
}
/* raw_input styles */
div.raw_input_container {
  line-height: 1.21429em;
  padding-top: 5px;
}
pre.raw_input_prompt {
  /* nothing needed here. */
}
input.raw_input {
  font-family: monospace;
  font-size: inherit;
  color: inherit;
  width: auto;
  /* make sure input baseline aligns with prompt */
  vertical-align: baseline;
  /* padding + margin = 0.5em between prompt and cursor */
  padding: 0em 0.25em;
  margin: 0em 0.25em;
}
input.raw_input:focus {
  box-shadow: none;
}
p.p-space {
  margin-bottom: 10px;
}
div.output_unrecognized {
  padding: 5px;
  font-weight: bold;
  color: red;
}
div.output_unrecognized a {
  color: inherit;
  text-decoration: none;
}
div.output_unrecognized a:hover {
  color: inherit;
  text-decoration: none;
}
.rendered_html {
  color: #000;
  /* any extras will just be numbers: */
}



.rendered_html :link {
  text-decoration: underline;
}
.rendered_html :visited {
  text-decoration: underline;
}






.rendered_html h1:first-child {
  margin-top: 0.538em;
}
.rendered_html h2:first-child {
  margin-top: 0.636em;
}
.rendered_html h3:first-child {
  margin-top: 0.777em;
}
.rendered_html h4:first-child {
  margin-top: 1em;
}
.rendered_html h5:first-child {
  margin-top: 1em;
}
.rendered_html h6:first-child {
  margin-top: 1em;
}








.rendered_html * + ul {
  margin-top: 1em;
}
.rendered_html * + ol {
  margin-top: 1em;
}


.rendered_html pre,



.rendered_html tr,
.rendered_html th,

.rendered_html td,


.rendered_html * + table {
  margin-top: 1em;
}

.rendered_html * + p {
  margin-top: 1em;
}

.rendered_html * + img {
  margin-top: 1em;
}
.rendered_html img,

.rendered_html img.unconfined,

div.text_cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.text_cell > div.prompt {
    display: none;
  }
}
div.text_cell_render {
  /*font-family: "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;*/
  outline: none;
  resize: none;
  width: inherit;
  border-style: none;
  padding: 0.5em 0.5em 0.5em 0.4em;
  color: #000;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
a.anchor-link:link {
  text-decoration: none;
  padding: 0px 20px;
  visibility: hidden;
}
h1:hover .anchor-link,
h2:hover .anchor-link,
h3:hover .anchor-link,
h4:hover .anchor-link,
h5:hover .anchor-link,
h6:hover .anchor-link {
  visibility: visible;
}
.text_cell.rendered .input_area {
  display: none;
}
.text_cell.rendered 
.text_cell.unrendered .text_cell_render {
  display: none;
}
.cm-header-1,
.cm-header-2,
.cm-header-3,
.cm-header-4,
.cm-header-5,
.cm-header-6 {
  font-weight: bold;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
}
.cm-header-1 {
  font-size: 185.7%;
}
.cm-header-2 {
  font-size: 157.1%;
}
.cm-header-3 {
  font-size: 128.6%;
}
.cm-header-4 {
  font-size: 110%;
}
.cm-header-5 {
  font-size: 100%;
  font-style: italic;
}
.cm-header-6 {
  font-size: 100%;
  font-style: italic;
}
</style>
<style type="text/css">.highlight .hll { background-color: #ffffcc }
.highlight  { background: #f8f8f8; }
.highlight .c { color: #408080; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #008000; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #BC7A00 } /* Comment.Preproc */
.highlight .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */
.highlight .cs { color: #408080; font-style: italic } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0044DD } /* Generic.Traceback */
.highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008000 } /* Keyword.Pseudo */
.highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #B00040 } /* Keyword.Type */
.highlight .m { color: #666666 } /* Literal.Number */
.highlight .s { color: #BA2121 } /* Literal.String */
.highlight .na { color: #7D9029 } /* Name.Attribute */
.highlight .nb { color: #008000 } /* Name.Builtin */
.highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.highlight .no { color: #880000 } /* Name.Constant */
.highlight .nd { color: #AA22FF } /* Name.Decorator */
.highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0000FF } /* Name.Function */
.highlight .nl { color: #A0A000 } /* Name.Label */
.highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #19177C } /* Name.Variable */
.highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #666666 } /* Literal.Number.Bin */
.highlight .mf { color: #666666 } /* Literal.Number.Float */
.highlight .mh { color: #666666 } /* Literal.Number.Hex */
.highlight .mi { color: #666666 } /* Literal.Number.Integer */
.highlight .mo { color: #666666 } /* Literal.Number.Oct */
.highlight .sa { color: #BA2121 } /* Literal.String.Affix */
.highlight .sb { color: #BA2121 } /* Literal.String.Backtick */
.highlight .sc { color: #BA2121 } /* Literal.String.Char */
.highlight .dl { color: #BA2121 } /* Literal.String.Delimiter */
.highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #BA2121 } /* Literal.String.Double */
.highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */
.highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.highlight .sx { color: #008000 } /* Literal.String.Other */
.highlight .sr { color: #BB6688 } /* Literal.String.Regex */
.highlight .s1 { color: #BA2121 } /* Literal.String.Single */
.highlight .ss { color: #19177C } /* Literal.String.Symbol */
.highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
.highlight .fm { color: #0000FF } /* Name.Function.Magic */
.highlight .vc { color: #19177C } /* Name.Variable.Class */
.highlight .vg { color: #19177C } /* Name.Variable.Global */
.highlight .vi { color: #19177C } /* Name.Variable.Instance */
.highlight .vm { color: #19177C } /* Name.Variable.Magic */
.highlight .il { color: #666666 } /* Literal.Number.Integer.Long */</style>
<style type="text/css">
/* Temporary definitions which will become obsolete with Notebook release 5.0 */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-bold { font-weight: bold; }
</style>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">

<p>In this notebook, we clean / transform our data.
We learn how to use Regular Expressions, Levenschtein distance and other pandas cleaning techniques.</p>
<p><strong>Results</strong>
<br/> Our data is clean and ready to be ingested into SQL.</p>
<p><strong>Limitations</strong></p>
<ul>
<li>Historical weather conditions missing for some trips</li>
<li>Safety rating and catch rating missing for most trips</li>
<li>Hidden variables. We recognise that there will always be hidden variables in fishing.</li>
</ul>
<p><strong>Click the button below if you want to see the code</strong></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [1]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">IPython.display</span> <span class="k">import</span> <span class="n">HTML</span>
<span class="n">HTML</span><span class="p">(</span><span class="s1">'''<script></span>
<span class="s1">  function code_toggle() {</span>
<span class="s1">    if (code_shown){</span>
<span class="s1">      $('div.input').hide('500');</span>
<span class="s1">      $('#toggleButton').val('Toggle Code')</span>
<span class="s1">    } else {</span>
<span class="s1">      $('div.input').show('500');</span>
<span class="s1">      $('#toggleButton').val('Toggle Code')</span>
<span class="s1">    }</span>
<span class="s1">    code_shown = !code_shown</span>
<span class="s1">  }</span>

<span class="s1">  $( document ).ready(function(){</span>
<span class="s1">    code_shown=false;</span>
<span class="s1">    $('div.input').hide()</span>
<span class="s1">  });</span>
<span class="s1"></script></span>
<span class="s1"><form action="javascript:code_toggle()"><input type="submit" id="toggleButton" value="Toggle Code"></form>'''</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[1]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<script>
  function code_toggle() {
    if (code_shown){
      $('div.input').hide('500');
      $('#toggleButton').val('Toggle Code')
    } else {
      $('div.input').show('500');
      $('#toggleButton').val('Toggle Code')
    }
    code_shown = !code_shown
  }

  $( document ).ready(function(){
    code_shown=false;
    $('div.input').hide()
  });
</script>
<form action="javascript:code_toggle()"><input id="toggleButton" type="submit" value="Toggle Code"/></form>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><h1>Table of Contents<span class="tocSkip"></span></h1></p>
<div class="toc" style="margin-top: 1em;"><ul class="toc-item"><li><span><a data-toc-modified-id="Extract-Data-from-Google-Sheets-1" href="#Extract-Data-from-Google-Sheets">Extract Data from Google Sheets</a></span></li><li><span><a data-toc-modified-id="Transform-Data-2" href="#Transform-Data">Transform Data</a></span><ul class="toc-item"><li><span><a data-toc-modified-id="Objectives-2.1" href="#Objectives">Objectives</a></span></li><li><span><a data-toc-modified-id="Safety-Rating-2.2" href="#Safety-Rating">Safety Rating</a></span></li><li><span><a data-toc-modified-id="Catch-Rating-2.3" href="#Catch-Rating">Catch Rating</a></span></li><li><span><a data-toc-modified-id="Machine-Learning-possibilities-2.4" href="#Machine-Learning-possibilities">Machine Learning possibilities</a></span><ul class="toc-item"><li><span><a data-toc-modified-id="Safety-Rating-2.4.1" href="#Safety-Rating">Safety Rating</a></span></li><li><span><a data-toc-modified-id="Catch-Rating-2.4.2" href="#Catch-Rating">Catch Rating</a></span></li><li><span><a data-toc-modified-id="Bait-Type-2.4.3" href="#Bait-Type">Bait Type</a></span></li></ul></li><li><span><a data-toc-modified-id="Regular-Expressions-(Regex)-2.5" href="#Regular-Expressions-(Regex)">Regular Expressions (Regex)</a></span><ul class="toc-item"><li><span><a data-toc-modified-id="Regex:-Capture-everything-between-two-characters-2.5.1" href="#Regex:-Capture-everything-between-two-characters">Regex: Capture everything between two characters</a></span></li><li><span><a data-toc-modified-id="Regex:-Capture-any-combination-of-these-letters-2.5.2" href="#Regex:-Capture-any-combination-of-these-letters">Regex: Capture any combination of these letters</a></span></li><li><span><a data-toc-modified-id="Regex:-Capture-literal-one-or-the-other-2.5.3" href="#Regex:-Capture-literal-one-or-the-other">Regex: Capture literal one or the other</a></span></li></ul></li></ul></li><li><span><a data-toc-modified-id="Pattern-Matching-using-Levenschtein-Distance-3" href="#Pattern-Matching-using-Levenschtein-Distance">Pattern Matching using Levenschtein Distance</a></span></li><li><span><a data-toc-modified-id="Another-mapper-for-mapping-dictionaries-4" href="#Another-mapper-for-mapping-dictionaries">Another mapper for mapping dictionaries</a></span></li><li><span><a data-toc-modified-id="Data-back-to-Google-Sheets-for-cleaning-5" href="#Data-back-to-Google-Sheets-for-cleaning">Data back to Google Sheets for cleaning</a></span></li><li><span><a data-toc-modified-id="Conclusion-6" href="#Conclusion">Conclusion</a></span><ul class="toc-item"><li><span><a data-toc-modified-id="Limitations-6.1" href="#Limitations">Limitations</a></span></li><li><span><a data-toc-modified-id="Future-Work-6.2" href="#Future-Work">Future Work</a></span></li></ul></li><li><span><a data-toc-modified-id="References-7" href="#References">References</a></span></li><li><span><a data-toc-modified-id="Chris-Said's-script-to-hide-a-bunch-of-stuff-8" href="#Chris-Said's-script-to-hide-a-bunch-of-stuff">Chris Said's script to hide a bunch of stuff</a></span></li></ul></div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Extract-Data-from-Google-Sheets">Extract Data from Google Sheets<a class="anchor-link" href="#Extract-Data-from-Google-Sheets">¶</a></h1><hr/>
<p>In <a href="https://jasonwillschiu.github.io/blog/2018-01-11-FishingPart1/">Part 1</a>, I go into more depth on how to do this.</p>
<p>Start with loading libraries we need.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [2]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Put us in the right folder that contains our client_secret.json file</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="s1">'C:</span><span class="se">\\</span><span class="s1">Users</span><span class="se">\\</span><span class="s1">JWC</span><span class="se">\\</span><span class="s1">Google Drive</span><span class="se">\\</span><span class="s1">Home</span><span class="se">\\</span><span class="s1">Datastuff</span><span class="se">\\</span><span class="s1">homepro</span><span class="se">\\</span><span class="s1">Fishing'</span><span class="p">)</span>

<span class="kn">from</span> <span class="nn">oauth2client.service_account</span> <span class="k">import</span> <span class="n">ServiceAccountCredentials</span>
<span class="kn">import</span> <span class="nn">pygsheets</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">ipy_table</span> <span class="k">as</span> <span class="nn">tbl</span> <span class="c1"># for tables</span>

<span class="c1"># Visuals</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">ezhc</span> <span class="k">as</span> <span class="nn">hc</span>
<span class="o">%</span><span class="k">matplotlib</span> inline
<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="k">import</span> <span class="n">Image</span>

<span class="c1"># Check what was loaded</span>
<span class="o">%</span><span class="k">load_ext</span> version_information
<span class="o">%</span><span class="k">version_information</span> pandas, ipython, jupyter, ezhc, pygsheets, oauth2client
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div id="d8eba340-1779-45e1-ba60-597e8d505b8f"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#d8eba340-1779-45e1-ba60-597e8d505b8f');

require(["jquery", "https://code.highcharts.com/stock/highstock.js", "https://d3js.org/d3.v3.min.js"], function() {
    require(["https://cdn.datatables.net/1.10.10/js/jquery.dataTables.min.js", "https://code.highcharts.com/stock/highcharts-more.js", "https://code.highcharts.com/modules/drilldown.js", "https://code.highcharts.com/modules/exporting.js", "https://code.highcharts.com/modules/heatmap.js", "https://code.highcharts.com/modules/treemap.js", "https://code.highcharts.com/modules/sunburst.js", "https://highcharts.github.io/export-csv/export-csv.js"], function() {
        console.log("The following js libs loaded:");
        console.log("First:");
        console.log("jquery");console.log("https://code.highcharts.com/stock/highstock.js");console.log("https://d3js.org/d3.v3.min.js");
        console.log("Then:");
        console.log("https://cdn.datatables.net/1.10.10/js/jquery.dataTables.min.js");console.log("https://code.highcharts.com/stock/highcharts-more.js");console.log("https://code.highcharts.com/modules/drilldown.js");console.log("https://code.highcharts.com/modules/exporting.js");console.log("https://code.highcharts.com/modules/heatmap.js");console.log("https://code.highcharts.com/modules/treemap.js");console.log("https://code.highcharts.com/modules/sunburst.js");console.log("https://highcharts.github.io/export-csv/export-csv.js");
    });
});
</script>
</div>
</div>
<div class="output_area">
<div class="prompt output_prompt">Out[2]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<table><tr><th>Software</th><th>Version</th></tr><tr><td>Python</td><td>3.6.1 64bit [MSC v.1900 64 bit (AMD64)]</td></tr><tr><td>IPython</td><td>6.2.1</td></tr><tr><td>OS</td><td>Windows 10 10.0.16299 SP0</td></tr><tr><td>pandas</td><td>0.22.0</td></tr><tr><td>ipython</td><td>6.2.1</td></tr><tr><td>jupyter</td><td>1.0.0</td></tr><tr><td>ezhc</td><td>0.7.1</td></tr><tr><td>pygsheets</td><td>1.1.3</td></tr><tr><td>oauth2client</td><td>4.1.2</td></tr><tr><td colspan="2">Sun Feb 04 00:13:15 2018 AUS Eastern Daylight Time</td></tr></table>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Authorisation for Google Sheets and extracting our data into two dataframes.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [3]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># The authorisation part of accessing google sheets</span>
<span class="n">scope</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'https://spreadsheets.google.com/feeds'</span><span class="p">,</span>
        <span class="s1">'https://www.googleapis.com/auth/drive'</span><span class="p">]</span>
<span class="n">creds</span> <span class="o">=</span> <span class="n">ServiceAccountCredentials</span><span class="o">.</span><span class="n">from_json_keyfile_name</span><span class="p">(</span><span class="s1">'client_secret.json'</span><span class="p">,</span> <span class="n">scope</span><span class="p">)</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">pygsheets</span><span class="o">.</span><span class="n">authorize</span><span class="p">(</span><span class="n">credentials</span><span class="o">=</span><span class="n">creds</span><span class="p">)</span>

<span class="c1"># Open a workbook by name</span>
<span class="c1"># Open a wooksheet by name</span>
<span class="n">sheet1</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">"Fishing Spots"</span><span class="p">)</span><span class="o">.</span><span class="n">worksheet_by_title</span><span class="p">(</span><span class="s1">'Journalv3'</span><span class="p">)</span>
<span class="n">sheet2</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">"Fishing Spots"</span><span class="p">)</span><span class="o">.</span><span class="n">worksheet_by_title</span><span class="p">(</span><span class="s1">'Journalv2'</span><span class="p">)</span>

<span class="c1"># Get all values outputs a list of lists, easier to handle than list of dicts</span>
<span class="n">jv3</span> <span class="o">=</span> <span class="n">sheet1</span><span class="o">.</span><span class="n">get_as_df</span><span class="p">()</span>
<span class="n">jv2</span> <span class="o">=</span> <span class="n">sheet2</span><span class="o">.</span><span class="n">get_as_df</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Have a quick browse of the state of both our datasets.</p>
<p>Journalv3. Currently date, spot, year, month and day are cleaned.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [4]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">jv3</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[4]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>Date</th>
<th>Spot</th>
<th>Baits/Lures</th>
<th>Fish Caught</th>
<th>Water Temp</th>
<th>Swell</th>
<th>Wind</th>
<th>Time fished</th>
<th>In what tide</th>
<th>Moon phase</th>
<th>Rain</th>
<th>Sun / Cloud</th>
<th>Year</th>
<th>Month</th>
<th>Day</th>
</tr>
</thead>
<tbody>
<tr>
<th>0</th>
<td>2010-09-09</td>
<td>North Whale</td>
<td>Metals</td>
<td>1x bonito</td>
<td></td>
<td>2.3m</td>
<td>small SW</td>
<td>5:30am - 8:30am</td>
<td>7:40am high</td>
<td></td>
<td>None</td>
<td>Sunny</td>
<td>2010</td>
<td>9</td>
<td>9</td>
</tr>
<tr>
<th>1</th>
<td>2010-09-09</td>
<td>North Whale</td>
<td>Zipbaits System Minnow 15HD</td>
<td>1x salmon</td>
<td></td>
<td>2.3m</td>
<td>small SW</td>
<td>5:30am - 8:30am</td>
<td>7:40am high</td>
<td></td>
<td>None</td>
<td>Sunny</td>
<td>2010</td>
<td>9</td>
<td>9</td>
</tr>
<tr>
<th>2</th>
<td>2010-04-08</td>
<td>North Whale</td>
<td>Metals</td>
<td>1x squid</td>
<td></td>
<td>1.2m</td>
<td>small W</td>
<td>6 - 8 am</td>
<td>9:30am low</td>
<td></td>
<td>None</td>
<td>Sunny</td>
<td>2010</td>
<td>4</td>
<td>8</td>
</tr>
<tr>
<th>3</th>
<td>2010-04-08</td>
<td>North Whale</td>
<td>Metals</td>
<td>1x bonito</td>
<td></td>
<td>1.2m</td>
<td>small W</td>
<td>6 - 8 am</td>
<td>9:30am low</td>
<td></td>
<td>None</td>
<td>Sunny</td>
<td>2010</td>
<td>4</td>
<td>8</td>
</tr>
<tr>
<th>4</th>
<td>2010-04-08</td>
<td>North Whale</td>
<td>Jackall TN70</td>
<td>1x snapper</td>
<td></td>
<td>1.2m</td>
<td>small W</td>
<td>6 - 8 am</td>
<td>9:30am low</td>
<td></td>
<td>None</td>
<td>Sunny</td>
<td>2010</td>
<td>4</td>
<td>8</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Journalv2. Nothing cleaned yet, but many columns can be used in their current state.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [5]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">jv2</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[5]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>Date</th>
<th>Safety Rating</th>
<th>Catch Rating</th>
<th>Reporter</th>
<th>Spot</th>
<th>Suburb</th>
<th>Fish Species</th>
<th>Qty</th>
<th>Largest Length (cm)</th>
<th>Baits/Lures</th>
<th>...</th>
<th>Start Tide Height</th>
<th>End Tide Height</th>
<th>Wind Speed (Avg km/h)</th>
<th>Wind Direction</th>
<th>Time Start</th>
<th>Time End</th>
<th>Moon (% full)</th>
<th>Rain</th>
<th>Sun/Cloud</th>
<th>Comments</th>
</tr>
</thead>
<tbody>
<tr>
<th>0</th>
<td>30 Apr 2017</td>
<td>4</td>
<td>4</td>
<td>Jas and Scott</td>
<td>South Bondi</td>
<td>Bondi Beach</td>
<td>Squid</td>
<td>1</td>
<td>25</td>
<td>Yama Qlive 3.5 Pink</td>
<td>...</td>
<td>0.30</td>
<td>1.08</td>
<td>15.0</td>
<td>SSW</td>
<td>5:30 AM</td>
<td>9:00 AM</td>
<td>22</td>
<td>no</td>
<td>Cloudy</td>
<td>Low spot for squid, middle spot for fish</td>
</tr>
<tr>
<th>1</th>
<td>30 Apr 2017</td>
<td>4</td>
<td>4</td>
<td>Jas and Scott</td>
<td>South Bondi</td>
<td>Bondi Beach</td>
<td>Blackfish</td>
<td>5</td>
<td>35</td>
<td>Cabbage</td>
<td>...</td>
<td>0.30</td>
<td>1.08</td>
<td>15.0</td>
<td>SSW</td>
<td>5:30 AM</td>
<td>9:00 AM</td>
<td>22</td>
<td>no</td>
<td>Cloudy</td>
<td>Low spot for squid, middle spot for fish</td>
</tr>
<tr>
<th>2</th>
<td>30 Apr 2017</td>
<td>4</td>
<td>4</td>
<td>Jas and Scott</td>
<td>South Bondi</td>
<td>Bondi Beach</td>
<td>Wrasse</td>
<td>1</td>
<td>30</td>
<td>Cuttlefish</td>
<td>...</td>
<td>0.30</td>
<td>1.08</td>
<td>15.0</td>
<td>SSW</td>
<td>5:30 AM</td>
<td>9:00 AM</td>
<td>22</td>
<td>no</td>
<td>Cloudy</td>
<td>Low spot for squid, middle spot for fish</td>
</tr>
<tr>
<th>3</th>
<td>30 Apr 2017</td>
<td>4</td>
<td>4</td>
<td>Jas and Scott</td>
<td>South Bondi</td>
<td>Bondi Beach</td>
<td>Bream</td>
<td>2</td>
<td>35</td>
<td>Prawns, Cuttlefish</td>
<td>...</td>
<td>0.30</td>
<td>1.08</td>
<td>15.0</td>
<td>SSW</td>
<td>5:30 AM</td>
<td>9:00 AM</td>
<td>22</td>
<td>no</td>
<td>Cloudy</td>
<td>Low spot for squid, middle spot for fish</td>
</tr>
<tr>
<th>4</th>
<td>1 May 2017</td>
<td>4</td>
<td>4</td>
<td>Tim</td>
<td>The Trap</td>
<td>Little Bay</td>
<td>Squid</td>
<td>3</td>
<td>35</td>
<td>Squid Jig</td>
<td>...</td>
<td>0.37</td>
<td>0.81</td>
<td>10.0</td>
<td>W</td>
<td>5:30 AM</td>
<td>9:00 AM</td>
<td>32</td>
<td>no</td>
<td>Sunny</td>
<td>Tim's report</td>
</tr>
</tbody>
</table>
<p>5 rows × 26 columns</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Transform-Data">Transform Data<a class="anchor-link" href="#Transform-Data">¶</a></h1><hr/>
<h2 id="Objectives">Objectives<a class="anchor-link" href="#Objectives">¶</a></h2><p>To have all cells ready to import into SQL (part 3). In this notebook we'll transform our data in the first normal form (1NF), which is defined as: only a single value in each cell and no duplicate rows.</p>
<ol>
<li>Clean jv3 rows:<ul>
<li><strong>baits/lures.</strong> Define unique groups. Baits to include: prawns, squid, bread, etc. Lures to include: metal jigs, soft plastics, squid jigs, etc.</li>
<li><strong>fish caught.</strong> Split into species, qty and max size</li>
<li><strong>water temp.</strong> Remove °C symbol</li>
<li><strong>swell.</strong> Split into magnitude, direction and period</li>
<li><strong>wind.</strong> Split into magnitude and direction</li>
<li><strong>time fished.</strong> Change into morning and afternoon. I don't like fishing at night, but in future will allow night as a variable</li>
<li><strong>in what tide.</strong> Split into start tide height, end tide height, max/min tide and incoming/outgoing</li>
<li><strong>moon phase.</strong> Remove % sign</li>
<li><strong>rain.</strong> Change into rain_when. Which will be today's perspective from the last or future rain. Options will be 2,1,0,-1,-2. Where 0 is raining today, 2 means it rained 2 or 2+ days ago and -1 means it rains 1 day from now.</li>
<li><strong>sun/cloud.</strong> Replace with light_level. Will use the following key: sunny = 2, cloudy = 1, night = 0.</li>
</ul>
</li>
<li>Create useful columns<ul>
<li><strong>bait_type.</strong> Groups for different baits and lures </li>
<li><strong>bustoff?</strong> Yes or no if a fish was hooked but got away</li>
</ul>
</li>
<li>Add useful rows to jv3 from jv2.<ul>
<li><strong>safety rating.</strong> </li>
<li><strong>catch rating.</strong></li>
<li><strong>suburb.</strong> This will be used to later plot spots on a map with latitude and longitude.</li>
</ul>
</li>
<li>Combine jv3 and jv2 so we have one clean dataset</li>
</ol>
<h2 id="Safety-Rating">Safety Rating<a class="anchor-link" href="#Safety-Rating">¶</a></h2><p>This is my own safety rating system.
<br/>5 = No swell touching feet
<br/>4 = Swell touches feet now and then
<br/>3 = Swell knee high now and then
<br/>2 = Swell above knee high now and then. Don't fish
<br/>1 = Swell could easily knock you over. Don't fish</p>
<h2 id="Catch-Rating">Catch Rating<a class="anchor-link" href="#Catch-Rating">¶</a></h2><p>This is my own catch rating system.
<br/>5 = Firing day, large quality/quantity of target species caught
<br/>4 = somewhere inbetween
<br/>3 = I enjoyed myself but nothing to write home about
<br/>2 = somewhere inbetween
<br/>1 = No one catches a thing</p>
<h2 id="Machine-Learning-possibilities">Machine Learning possibilities<a class="anchor-link" href="#Machine-Learning-possibilities">¶</a></h2><h3 id="Safety-Rating">Safety Rating<a class="anchor-link" href="#Safety-Rating">¶</a></h3><p>If we knew the height above sea level and direction that each rock ledge faced we probably wouldn't need machine learning. However since we don't have that information we may be able to imply the correct safety.</p>
<p>Possible algorithms: linear regression, others.</p>
<pre><code>safety rating = function(swell direction, swell period, swell magnitude, spot, tide height)</code></pre>
<h3 id="Catch-Rating">Catch Rating<a class="anchor-link" href="#Catch-Rating">¶</a></h3><p>This will be more subjective than safety.</p>
<p>Possible algorithms: linear regression, others.</p>
<pre><code>catch rating = function(fish species, fish qty, fish size max)</code></pre>
<h3 id="Bait-Type">Bait Type<a class="anchor-link" href="#Bait-Type">¶</a></h3><p>Possible algorithms: linear regression, others.</p>
<pre><code>catch rating = function(fish species, fish qty, fish size max)</code></pre>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Regular-Expressions-(Regex)">Regular Expressions (Regex)<a class="anchor-link" href="#Regular-Expressions-(Regex)">¶</a></h2><p>In this portion of the notebook I mostly use regular expressions to clean, which makes short work of most of the cleaning tasks. I will explain a little how my regular expressions are created as they are pretty hard to decipher if you don't use them often. Try these links to <a href="https://regexone.com/lesson/introduction_abcs">learn</a> and <a href="https://regex101.com/">test</a> regex.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [6]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Make all column names lower case</span>
<span class="n">jv3</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="n">jv3</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

<span class="c1"># Remove spaces and special characters from columns</span>
<span class="n">jv3</span><span class="p">[</span><span class="s1">'baits_lures'</span><span class="p">]</span> <span class="o">=</span> <span class="n">jv3</span><span class="p">[</span><span class="s1">'baits/lures'</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
<span class="n">jv3</span><span class="p">[</span><span class="s1">'spot'</span><span class="p">]</span> <span class="o">=</span> <span class="n">jv3</span><span class="p">[</span><span class="s1">'spot'</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

<span class="c1"># Remove °C from water temp and remove space</span>
<span class="n">jv3</span><span class="p">[</span><span class="s1">'water_temp'</span><span class="p">]</span> <span class="o">=</span> <span class="n">jv3</span><span class="p">[</span><span class="s1">'water temp'</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">'°C'</span><span class="p">,</span><span class="s1">''</span><span class="p">)</span>
<span class="n">jv3</span><span class="p">[</span><span class="s1">'water_temp'</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">jv3</span><span class="p">[</span><span class="s1">'water_temp'</span><span class="p">],</span><span class="n">errors</span><span class="o">=</span><span class="s1">'coerce'</span><span class="p">)</span>

<span class="c1"># Extract the number before 'm' for swell magnitude </span>
<span class="n">jv3</span><span class="p">[</span><span class="s1">'swell_magnitude'</span><span class="p">]</span> <span class="o">=</span> <span class="n">jv3</span><span class="p">[</span><span class="s1">'swell'</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="s1">'^(.*?)m'</span><span class="p">,</span><span class="n">expand</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">jv3</span><span class="p">[</span><span class="s1">'swell_magnitude'</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">jv3</span><span class="p">[</span><span class="s1">'swell_magnitude'</span><span class="p">],</span><span class="n">errors</span><span class="o">=</span><span class="s1">'coerce'</span><span class="p">)</span>
<span class="c1"># Extract any combination of North South West East. Requires ()</span>
<span class="n">jv3</span><span class="p">[</span><span class="s1">'swell_direction'</span><span class="p">]</span> <span class="o">=</span> <span class="n">jv3</span><span class="p">[</span><span class="s1">'swell'</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="s1">'([NSWE]+)'</span><span class="p">,</span><span class="n">expand</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="c1"># Extract the number between the digit and s, including digit</span>
<span class="n">jv3</span><span class="p">[</span><span class="s1">'swell_period'</span><span class="p">]</span> <span class="o">=</span> <span class="n">jv3</span><span class="p">[</span><span class="s1">'swell'</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="s1">' (\d.*?)s'</span><span class="p">,</span><span class="n">expand</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># Extract the number before 'k' for wind magnitude</span>
<span class="n">jv3</span><span class="p">[</span><span class="s1">'wind_magnitude'</span><span class="p">]</span> <span class="o">=</span> <span class="n">jv3</span><span class="p">[</span><span class="s1">'wind'</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="s1">'^(.*?)k'</span><span class="p">,</span><span class="n">expand</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="c1"># Extract any combination of North South West East. Requires ()</span>
<span class="n">jv3</span><span class="p">[</span><span class="s1">'wind_direction'</span><span class="p">]</span> <span class="o">=</span> <span class="n">jv3</span><span class="p">[</span><span class="s1">'wind'</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="s1">'([NSWE]+)'</span><span class="p">,</span><span class="n">expand</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># Extract the number before '%" for moon phase and remove space</span>
<span class="n">jv3</span><span class="p">[</span><span class="s1">'moon_phase_percent_full'</span><span class="p">]</span> <span class="o">=</span> <span class="n">jv3</span><span class="p">[</span><span class="s1">'moon phase'</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="s1">'^(.*?)%'</span><span class="p">,</span><span class="n">expand</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">jv3</span><span class="p">[</span><span class="s1">'moon_phase_percent_full'</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">jv3</span><span class="p">[</span><span class="s1">'moon_phase_percent_full'</span><span class="p">],</span><span class="n">errors</span><span class="o">=</span><span class="s1">'coerce'</span><span class="p">,</span><span class="n">downcast</span><span class="o">=</span><span class="s1">'integer'</span><span class="p">);</span>

<span class="c1"># Extract the number before 'x' for fish caught</span>
<span class="n">jv3</span><span class="p">[</span><span class="s1">'fish_qty'</span><span class="p">]</span> <span class="o">=</span> <span class="n">jv3</span><span class="p">[</span><span class="s1">'fish caught'</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="s1">'^(.*?)x'</span><span class="p">,</span><span class="n">expand</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">jv3</span><span class="p">[</span><span class="s1">'fish_qty'</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">jv3</span><span class="p">[</span><span class="s1">'fish_qty'</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span><span class="n">errors</span><span class="o">=</span><span class="s1">'coerce'</span><span class="p">)</span> 

<span class="c1"># Extract the number before 'cm' for size of fish caught in cm</span>
<span class="n">jv3</span><span class="p">[</span><span class="s1">'fish_size_max'</span><span class="p">]</span> <span class="o">=</span> <span class="n">jv3</span><span class="p">[</span><span class="s1">'fish caught'</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="s1">'(\d+)cm'</span><span class="p">,</span><span class="n">expand</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">jv3</span><span class="p">[</span><span class="s1">'fish_size_max'</span><span class="p">]</span> <span class="o">=</span> <span class="n">jv3</span><span class="p">[</span><span class="s1">'fish_size_max'</span><span class="p">];</span>

<span class="c1"># Extract the string after 'x' for species of fish caught</span>
<span class="n">jv3</span><span class="p">[</span><span class="s1">'fish_species'</span><span class="p">]</span> <span class="o">=</span> <span class="n">jv3</span><span class="p">[</span><span class="s1">'fish caught'</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="s1">'x(.*?)$'</span><span class="p">,</span><span class="n">expand</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="c1"># Replace NaN values with 'none'</span>
<span class="n">jv3</span><span class="p">[</span><span class="s1">'fish_species'</span><span class="p">]</span> <span class="o">=</span> <span class="n">jv3</span><span class="p">[</span><span class="s1">'fish_species'</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">object</span><span class="p">)</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s1">'-'</span><span class="p">)</span>
<span class="c1"># make all lowercase and strip white spaces</span>
<span class="n">jv3</span><span class="p">[</span><span class="s1">'fish_species'</span><span class="p">]</span> <span class="o">=</span> <span class="n">jv3</span><span class="p">[</span><span class="s1">'fish_species'</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
<span class="n">jv3</span><span class="p">[</span><span class="s1">'fish_species'</span><span class="p">]</span> <span class="o">=</span> <span class="n">jv3</span><span class="p">[</span><span class="s1">'fish_species'</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

<span class="c1"># change all times to either am or pm, then rename to morning and afternoon</span>
<span class="n">jv3</span><span class="p">[</span><span class="s1">'time'</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">jv3</span><span class="p">[</span><span class="s1">'time fished'</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s1">'am'</span><span class="p">),</span><span class="s1">'morning'</span><span class="p">,</span><span class="s1">'afternoon'</span><span class="p">)</span>

<span class="c1"># rain info</span>
<span class="n">jv3</span><span class="p">[</span><span class="s1">'rain_when'</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">jv3</span><span class="p">[</span><span class="s1">'rain'</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s1">'yes'</span><span class="p">,</span><span class="n">case</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>

<span class="c1"># light level info</span>
<span class="n">jv3</span><span class="p">[</span><span class="s1">'light_level'</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">jv3</span><span class="p">[</span><span class="s1">'sun / cloud'</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s1">'cloud'</span><span class="p">,</span><span class="n">case</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>

<span class="c1"># tide info</span>
<span class="n">jv3</span><span class="p">[</span><span class="s1">'min_tide'</span><span class="p">]</span> <span class="o">=</span> <span class="n">jv3</span><span class="p">[</span><span class="s1">'in what tide'</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="s1">' (\d.*?)-'</span><span class="p">,</span><span class="n">expand</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">jv3</span><span class="p">[</span><span class="s1">'max_tide'</span><span class="p">]</span> <span class="o">=</span> <span class="n">jv3</span><span class="p">[</span><span class="s1">'in what tide'</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="s1">'-(\d.+)$'</span><span class="p">,</span><span class="n">expand</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">jv3</span><span class="p">[</span><span class="s1">'min_tide'</span><span class="p">]</span> <span class="o">=</span> <span class="n">jv3</span><span class="p">[</span><span class="s1">'min_tide'</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">'m'</span><span class="p">,</span><span class="s1">''</span><span class="p">)</span>
<span class="n">jv3</span><span class="p">[</span><span class="s1">'max_tide'</span><span class="p">]</span> <span class="o">=</span> <span class="n">jv3</span><span class="p">[</span><span class="s1">'max_tide'</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">'m'</span><span class="p">,</span><span class="s1">''</span><span class="p">)</span>
<span class="n">jv3</span><span class="p">[</span><span class="s1">'tide_direction'</span><span class="p">]</span> <span class="o">=</span> <span class="n">jv3</span><span class="p">[</span><span class="s1">'in what tide'</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="s1">'^(out|in)'</span><span class="p">,</span><span class="n">expand</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">jv3</span><span class="p">[</span><span class="s1">'tide_direction'</span><span class="p">]</span> <span class="o">=</span> <span class="n">jv3</span><span class="p">[</span><span class="s1">'tide_direction'</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">'in'</span><span class="p">,</span><span class="s1">'incoming'</span><span class="p">)</span>
<span class="n">jv3</span><span class="p">[</span><span class="s1">'tide_direction'</span><span class="p">]</span> <span class="o">=</span> <span class="n">jv3</span><span class="p">[</span><span class="s1">'tide_direction'</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">'out'</span><span class="p">,</span><span class="s1">'outgoing'</span><span class="p">)</span>
<span class="c1"># another way of doing if, else in pandas</span>
<span class="c1"># use .loc[if statement,[affects this col]] = then this result</span>
<span class="n">jv3</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">jv3</span><span class="p">[</span><span class="s1">'in what tide'</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s1">'high'</span><span class="p">,</span><span class="n">case</span><span class="o">=</span><span class="kc">False</span><span class="p">),[</span><span class="s1">'tide_direction'</span><span class="p">]]</span> <span class="o">=</span> <span class="s1">'incoming'</span>
<span class="n">jv3</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">jv3</span><span class="p">[</span><span class="s1">'in what tide'</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s1">'low'</span><span class="p">,</span><span class="n">case</span><span class="o">=</span><span class="kc">False</span><span class="p">),[</span><span class="s1">'tide_direction'</span><span class="p">]]</span> <span class="o">=</span> <span class="s1">'outgoing'</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Regex:-Capture-everything-between-two-characters">Regex: Capture everything between two characters<a class="anchor-link" href="#Regex:-Capture-everything-between-two-characters">¶</a></h3><p>In Python, regex is always between quotes ''.
<br/> One commonly used expression is capturing between two characters like so. 
<br/> Here we capture everything between 'a' and 'b'.</p>
<pre><code>regex
'a(.*?)b'

a = border character, can be anything
() = capture everything enclosed
. = any single character
*? = Matches between zero and unlimited times, as few times as possible, expanding as needed (lazy)
b = border character, can be anything</code></pre>
<h3 id="Regex:-Capture-any-combination-of-these-letters">Regex: Capture any combination of these letters<a class="anchor-link" href="#Regex:-Capture-any-combination-of-these-letters">¶</a></h3><p>The below captures any combination of letters containing N(orth) S(outh) E(ast) W(est).
<br/> Directions on a map can range from single letter N (North)
<br/> Two letters SE (South East)
<br/> Three letters ESE (East South East).</p>
<pre><code>regex
'([NSWE]+)'

() = capture everything enclosed
[] = single characters of everything inside
NSWE = characters to match
+ = one or more characters</code></pre>
<h3 id="Regex:-Capture-literal-one-or-the-other">Regex: Capture literal one or the other<a class="anchor-link" href="#Regex:-Capture-literal-one-or-the-other">¶</a></h3><p>The below captures the first instance of out or in. Some lines contain both out and in so I want only the first match.</p>
<pre><code>regex
'^(out|in)'

^ = start of the line
() = capture everything enclosed
out|in = out 'or' in</code></pre>
<p>Observing our cleaned data we see all columns are cleaned except for baits_lures. Which we will clean with a different method.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [7]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">jv3</span><span class="p">[[</span><span class="s1">'date'</span><span class="p">,</span><span class="s1">'time'</span><span class="p">,</span><span class="s1">'spot'</span><span class="p">,</span><span class="s1">'baits_lures'</span><span class="p">,</span><span class="s1">'fish_qty'</span><span class="p">,</span>
     <span class="s1">'fish_species'</span><span class="p">,</span><span class="s1">'fish_size_max'</span><span class="p">,</span><span class="s1">'water_temp'</span><span class="p">,</span>
    <span class="s1">'swell_magnitude'</span><span class="p">,</span><span class="s1">'swell_direction'</span><span class="p">,</span><span class="s1">'swell_period'</span><span class="p">,</span>
    <span class="s1">'wind_magnitude'</span><span class="p">,</span><span class="s1">'wind_direction'</span><span class="p">,</span><span class="s1">'moon_phase_percent_full'</span><span class="p">]]</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[7]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>date</th>
<th>time</th>
<th>spot</th>
<th>baits_lures</th>
<th>fish_qty</th>
<th>fish_species</th>
<th>fish_size_max</th>
<th>water_temp</th>
<th>swell_magnitude</th>
<th>swell_direction</th>
<th>swell_period</th>
<th>wind_magnitude</th>
<th>wind_direction</th>
<th>moon_phase_percent_full</th>
</tr>
</thead>
<tbody>
<tr>
<th>19</th>
<td>2013-07-20</td>
<td>afternoon</td>
<td>mahon pool</td>
<td>brown weed</td>
<td>2</td>
<td>blackfish</td>
<td>NaN</td>
<td>17.5</td>
<td>1.3</td>
<td>ENE</td>
<td>8</td>
<td>14</td>
<td>WNW</td>
<td>92.0</td>
</tr>
<tr>
<th>308</th>
<td>2017-01-26</td>
<td>morning</td>
<td>dudley beach rocks</td>
<td>prawns</td>
<td>2</td>
<td>bream</td>
<td>NaN</td>
<td>22.7</td>
<td>1.1</td>
<td>SSE</td>
<td>11</td>
<td>16</td>
<td>SSW</td>
<td>2.0</td>
</tr>
<tr>
<th>280</th>
<td>2016-10-22</td>
<td>afternoon</td>
<td>north bondi</td>
<td>probably prawns</td>
<td>1</td>
<td>leather jacket</td>
<td>NaN</td>
<td>18.9</td>
<td>1.8</td>
<td>SSE</td>
<td>8</td>
<td>23</td>
<td>SSE</td>
<td>53.0</td>
</tr>
<tr>
<th>174</th>
<td>2015-12-30</td>
<td>morning</td>
<td>bluefish main</td>
<td>garfish</td>
<td>1</td>
<td>salmon</td>
<td>NaN</td>
<td>21.2</td>
<td>1.3</td>
<td>SSE</td>
<td>8</td>
<td>11</td>
<td>SSW</td>
<td>75.0</td>
</tr>
<tr>
<th>319</th>
<td>2017-02-12</td>
<td>morning</td>
<td>bluefish main</td>
<td>garfish</td>
<td>0</td>
<td>-</td>
<td>NaN</td>
<td>22.7</td>
<td>1.3</td>
<td>ENE</td>
<td>9</td>
<td>10</td>
<td>NE</td>
<td>97.0</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Pattern-Matching-using-Levenschtein-Distance">Pattern Matching using Levenschtein Distance<a class="anchor-link" href="#Pattern-Matching-using-Levenschtein-Distance">¶</a></h1><hr/>
<p>In the above cleaning we use regex to capture patterns and use if-else conditional statements to map inconsistent data to a consistent version. This solves a lot of our cleaning issues, but not all.</p>
<p>We have some columns (baits_lures and fish_species) that are categorical with many categories. We would like to standardise the fish_species column so a fish species is a unique identifier (i.e. kingfish are commonly called kingies, kingy or king). We would also like to create a bait_type column where we classify what bait or lure is used, for example cabbage weed, string weed and bubble weed can be classified as seaweed. We won't make baits and lures into unique identifiers as there are just too many different combinations.</p>
<p>With both standardising and classifying without any labels, we can imply our desired result from our current data. For instance kingfish and common aliases kingies, kingy and king all contain the substring 'king'. My original solution was based purely on substrings before discovering <a href="https://en.wikipedia.org/wiki/Levenshtein_distance">Levenshtein distance</a>.</p>
<p>Levenschtein Distance between two words is the minimum number of changes (insertions, deletions or substitutions) required to turn one word into the other. We can use it to measure how closely related two strings are. This way we'll have an advantage over purely using substrings which will be a binary result (True or False).</p>
<p>I've chosen this algorithm because it is relatively simple to understand and runs quickly. Other algorithms we could look into are:</p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Hamming_distance">Hamming distance</a></li>
<li><a href="https://en.wikipedia.org/wiki/Damerau%E2%80%93Levenshtein_distance">Damerau–Levenshtein distance</a></li>
<li><a href="https://en.wikipedia.org/wiki/Jaro%E2%80%93Winkler_distance">Jaro–Winkler distance</a></li>
<li><a href="https://collaboration.cmc.ec.gc.ca/science/rpn/biblio/ddj/Website/articles/DDJ/1988/8807/8807c/8807c.htm">Gestalt approach</a></li>
</ul>
<p>The particular implementation of Levenschtein Distance we are using is the <a href="https://github.com/seatgeek/fuzzywuzzy">'fuzzywuzzy'</a> library because it can be set to consider substrings.</p>
<p>A quick demonstration of Levenschtein Distance and why I've chosen fuzzywuzzy.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [8]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">Levenshtein</span>
<span class="kn">from</span> <span class="nn">fuzzywuzzy</span> <span class="k">import</span> <span class="n">fuzz</span>
<span class="kn">import</span> <span class="nn">fuzzywuzzy</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>A perfect match, 'prawn' and 'prawn'. The same word</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [9]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">Levenshtein</span><span class="o">.</span><span class="n">ratio</span><span class="p">(</span><span class="s1">'prawn'</span><span class="p">,</span><span class="s1">'prawn'</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[9]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>1.0</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Here we compare 'prawn' with 'prawns'. The Levenschtein ratio is ~0.91</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [10]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">Levenshtein</span><span class="o">.</span><span class="n">ratio</span><span class="p">(</span><span class="s1">'prawns'</span><span class="p">,</span><span class="s1">'prawn'</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[10]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>0.9090909090909091</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Comparing 'peeled endeavor prawns' with 'prawn' yields a ratio of ~0.37</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [11]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">Levenshtein</span><span class="o">.</span><span class="n">ratio</span><span class="p">(</span><span class="s1">'peeled endeavor prawns'</span><span class="p">,</span><span class="s1">'prawn'</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[11]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>0.37037037037037035</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Comparing 'bread' with 'prawn' yields a ratio of 0.4. Clearly bread should rate lower than peeled endeavor prawns. However knowing how the Levenschtein algorithm works it makes sense that bread is rated higher, since there were more edits required to change peeled endearvor prawns into prawn than to change bread into prawn.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [12]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">Levenshtein</span><span class="o">.</span><span class="n">ratio</span><span class="p">(</span><span class="s1">'bread'</span><span class="p">,</span><span class="s1">'prawn'</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[12]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>0.4</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Hence we use Fuzzywuzzy's partial_ratio method, which checks if one string is a substring of the other. One thing to note is fuzzywuzzy multiplies ratios by 100.</p>
<p>Comparing 'peeled endeavor prawns' with 'prawn' yields a ratio of 100. A perfect match because prawn is a substring in peeled endeavor prawns.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [13]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">fuzz</span><span class="o">.</span><span class="n">partial_ratio</span><span class="p">(</span><span class="s1">'peeled endeavor prawns'</span><span class="p">,</span><span class="s1">'prawn'</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[13]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>100</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Comparing 'bread' with 'prawn' yields a ratio of 40, which is equivalent to a Levenschtein ratio of 0.4.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [14]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">fuzz</span><span class="o">.</span><span class="n">partial_ratio</span><span class="p">(</span><span class="s1">'bread'</span><span class="p">,</span><span class="s1">'prawn'</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[14]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>40</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Below we compare 'prawns' to our baits_lures using partial_ratio and the Levenschtein library. We find partial_ratio with a better result overall.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [15]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">baits</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">jv3</span><span class="p">[</span><span class="s1">'baits_lures'</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
<span class="n">fuz</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">lev</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">tester</span> <span class="o">=</span> <span class="s1">'prawns'</span>
<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">baits</span><span class="p">:</span>
    <span class="n">fuz</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">item</span><span class="p">,</span><span class="n">fuzz</span><span class="o">.</span><span class="n">partial_ratio</span><span class="p">(</span><span class="n">item</span><span class="p">,</span><span class="n">tester</span><span class="p">)])</span>
    <span class="n">lev</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">item</span><span class="p">,</span><span class="n">Levenshtein</span><span class="o">.</span><span class="n">ratio</span><span class="p">(</span><span class="n">item</span><span class="p">,</span><span class="n">tester</span><span class="p">)])</span>
    
<span class="n">df_fuz</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">fuz</span><span class="p">,</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">'baits_lures'</span><span class="p">,</span><span class="s1">'partial_ratio'</span><span class="p">])</span>
<span class="n">df_lev</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">lev</span><span class="p">,</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">'baits_lures'</span><span class="p">,</span><span class="s1">'leven_ratio'</span><span class="p">])</span>
<span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df_fuz</span><span class="p">,</span><span class="n">df_lev</span><span class="p">,</span><span class="n">how</span><span class="o">=</span><span class="s1">'inner'</span><span class="p">,</span><span class="n">on</span><span class="o">=</span><span class="s1">'baits_lures'</span><span class="p">)</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s1">'partial_ratio'</span><span class="p">,</span><span class="s1">'leven_ratio'</span><span class="p">],</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">18</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[15]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>baits_lures</th>
<th>partial_ratio</th>
<th>leven_ratio</th>
</tr>
</thead>
<tbody>
<tr>
<th>40</th>
<td>prawns</td>
<td>100</td>
<td>1.000000</td>
</tr>
<tr>
<th>20</th>
<td>prawn</td>
<td>100</td>
<td>0.909091</td>
</tr>
<tr>
<th>62</th>
<td>good prawns</td>
<td>100</td>
<td>0.705882</td>
</tr>
<tr>
<th>18</th>
<td>banana prawns</td>
<td>100</td>
<td>0.631579</td>
</tr>
<tr>
<th>98</th>
<td>probably prawns</td>
<td>100</td>
<td>0.571429</td>
</tr>
<tr>
<th>102</th>
<td>prawns and squid</td>
<td>100</td>
<td>0.545455</td>
</tr>
<tr>
<th>103</th>
<td>prawns and bread</td>
<td>100</td>
<td>0.545455</td>
</tr>
<tr>
<th>87</th>
<td>fresh prawns/squid</td>
<td>100</td>
<td>0.500000</td>
</tr>
<tr>
<th>73</th>
<td>coles banana prawns</td>
<td>100</td>
<td>0.480000</td>
</tr>
<tr>
<th>108</th>
<td>prawns and all sorts</td>
<td>100</td>
<td>0.461538</td>
</tr>
<tr>
<th>48</th>
<td>peeled endeavor prawns</td>
<td>100</td>
<td>0.428571</td>
</tr>
<tr>
<th>104</th>
<td>probably prawns and bread</td>
<td>100</td>
<td>0.387097</td>
</tr>
<tr>
<th>63</th>
<td>windybanks hawksbury prawns</td>
<td>100</td>
<td>0.363636</td>
</tr>
<tr>
<th>33</th>
<td>squid/prawn</td>
<td>91</td>
<td>0.588235</td>
</tr>
<tr>
<th>113</th>
<td>prawn light and net</td>
<td>83</td>
<td>0.400000</td>
</tr>
<tr>
<th>6</th>
<td>gars</td>
<td>50</td>
<td>0.400000</td>
</tr>
<tr>
<th>12</th>
<td>brown weed</td>
<td>50</td>
<td>0.375000</td>
</tr>
<tr>
<th>91</th>
<td>squid wings</td>
<td>50</td>
<td>0.352941</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now we create a function to rate our data against a corpus of good words. We aren't expecting an amazing result, but it will help a lot. Since we don't have labels, we won't be able to measure how much it helped until we finish.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [16]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">fuzzy_mapper</span><span class="p">(</span><span class="n">series</span><span class="p">,</span><span class="n">fillers</span><span class="p">):</span>
    <span class="n">output</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">rating</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">series</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">fill</span> <span class="ow">in</span> <span class="n">fillers</span><span class="p">:</span>
            <span class="c1"># Create rating for all potential fill words</span>
            <span class="n">rating</span><span class="p">[</span><span class="n">fuzz</span><span class="o">.</span><span class="n">partial_ratio</span><span class="p">(</span><span class="n">fill</span><span class="p">,</span><span class="n">item</span><span class="p">)]</span> <span class="o">=</span> <span class="n">fill</span>
        <span class="c1"># Append max rated word</span>
        <span class="n">output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rating</span><span class="p">[</span><span class="nb">max</span><span class="p">(</span><span class="n">rating</span><span class="p">)])</span>
        <span class="c1"># Reset rating for next item in the series</span>
        <span class="n">rating</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">return</span> <span class="n">output</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [17]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bait_classes</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'metal jigs'</span><span class="p">,</span><span class="s1">'swimbaits'</span><span class="p">,</span><span class="s1">'stickbaits'</span><span class="p">,</span><span class="s1">'poppers'</span><span class="p">,</span><span class="s1">'squid jigs'</span><span class="p">,</span>
                <span class="s1">'soft plastics'</span><span class="p">,</span><span class="s1">'bait fish'</span><span class="p">,</span><span class="s1">'squid'</span><span class="p">,</span><span class="s1">'seaweed'</span><span class="p">,</span><span class="s1">'bread'</span><span class="p">,</span><span class="s1">'prawns'</span><span class="p">,</span>
                <span class="s1">'uncommon'</span><span class="p">,</span><span class="s1">'vibes'</span><span class="p">]</span>
<span class="n">fish</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'bonito'</span><span class="p">,</span> <span class="s1">'australian salmon'</span><span class="p">,</span> <span class="s1">'arrow'</span><span class="p">,</span> <span class="s1">'squid'</span><span class="p">,</span> <span class="s1">'silver drummer'</span><span class="p">,</span> <span class="s1">'snapper'</span><span class="p">,</span> <span class="s1">'kingfish'</span><span class="p">,</span>
        <span class="s1">'pike'</span><span class="p">,</span> <span class="s1">'tailor'</span><span class="p">,</span> <span class="s1">'blackfish'</span><span class="p">,</span> <span class="s1">'sweep'</span><span class="p">,</span> <span class="s1">'black drummer'</span><span class="p">,</span> <span class="s1">'yellowtail scad'</span><span class="p">,</span>
        <span class="s1">'frigate mackerel'</span><span class="p">,</span> <span class="s1">'bream'</span><span class="p">,</span> <span class="s1">'cuttlefish'</span><span class="p">,</span> <span class="s1">'silver trevally'</span><span class="p">,</span>
        <span class="s1">'sargent baker'</span><span class="p">,</span> <span class="s1">'mullet'</span><span class="p">,</span> <span class="s1">'hairtail'</span><span class="p">,</span> <span class="s1">'longtail tuna'</span><span class="p">,</span> <span class="s1">'wirrah cod'</span><span class="p">,</span>
        <span class="s1">'leather jacket'</span><span class="p">,</span> <span class="s1">'grouper'</span><span class="p">,</span> <span class="s1">'garfish'</span><span class="p">,</span> <span class="s1">'flounder'</span><span class="p">,</span><span class="s1">'parrotfish'</span><span class="p">,</span><span class="s1">'wrasse'</span><span class="p">,</span>
        <span class="s1">'-'</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [18]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">jv3</span><span class="p">[</span><span class="s1">'bait_type'</span><span class="p">]</span> <span class="o">=</span> <span class="n">fuzzy_mapper</span><span class="p">(</span><span class="n">jv3</span><span class="p">[</span><span class="s1">'baits_lures'</span><span class="p">],</span><span class="n">bait_classes</span><span class="p">)</span>
<span class="n">jv3</span><span class="p">[</span><span class="s1">'fish_species'</span><span class="p">]</span> <span class="o">=</span> <span class="n">fuzzy_mapper</span><span class="p">(</span><span class="n">jv3</span><span class="p">[</span><span class="s1">'fish_species'</span><span class="p">],</span><span class="n">fish</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [19]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">key_cols</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'date'</span><span class="p">,</span><span class="s1">'time'</span><span class="p">,</span><span class="s1">'spot'</span><span class="p">,</span><span class="s1">'baits_lures'</span><span class="p">,</span><span class="s1">'bait_type'</span><span class="p">,</span><span class="s1">'fish_qty'</span><span class="p">,</span>
     <span class="s1">'fish_species'</span><span class="p">,</span><span class="s1">'fish_size_max'</span><span class="p">,</span> <span class="s1">'light_level'</span><span class="p">,</span> <span class="s1">'water_temp'</span><span class="p">,</span>
    <span class="s1">'swell_magnitude'</span><span class="p">,</span><span class="s1">'swell_direction'</span><span class="p">,</span><span class="s1">'swell_period'</span><span class="p">,</span>
    <span class="s1">'wind_magnitude'</span><span class="p">,</span><span class="s1">'wind_direction'</span><span class="p">,</span><span class="s1">'moon_phase_percent_full'</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [20]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">jv3</span><span class="p">[</span><span class="n">key_cols</span><span class="p">]</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="n">random_state</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[20]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>date</th>
<th>time</th>
<th>spot</th>
<th>baits_lures</th>
<th>bait_type</th>
<th>fish_qty</th>
<th>fish_species</th>
<th>fish_size_max</th>
<th>light_level</th>
<th>water_temp</th>
<th>swell_magnitude</th>
<th>swell_direction</th>
<th>swell_period</th>
<th>wind_magnitude</th>
<th>wind_direction</th>
<th>moon_phase_percent_full</th>
</tr>
</thead>
<tbody>
<tr>
<th>323</th>
<td>2017-03-26</td>
<td>morning</td>
<td>bond st high rock</td>
<td>prawns</td>
<td>prawns</td>
<td>3</td>
<td>black drummer</td>
<td>NaN</td>
<td>2</td>
<td>24.1</td>
<td>1.7</td>
<td>SE</td>
<td>9</td>
<td>6</td>
<td>WNW</td>
<td>3.0</td>
</tr>
<tr>
<th>74</th>
<td>2014-12-24</td>
<td>morning</td>
<td>the boot</td>
<td>cabbage weed</td>
<td>seaweed</td>
<td>5</td>
<td>blackfish</td>
<td>NaN</td>
<td>1</td>
<td>21.3</td>
<td>1.4</td>
<td>ENE</td>
<td>7</td>
<td>9.3</td>
<td>SSW</td>
<td>8.0</td>
</tr>
<tr>
<th>329</th>
<td>2017-04-08</td>
<td>morning</td>
<td>north bondi</td>
<td>samaki rattlesnake ghost 30g</td>
<td>swimbaits</td>
<td>1</td>
<td>bonito</td>
<td>NaN</td>
<td>2</td>
<td>24.1</td>
<td>1.0</td>
<td>SE</td>
<td>7</td>
<td>17</td>
<td>NNW</td>
<td>97.0</td>
</tr>
<tr>
<th>15</th>
<td>2013-07-11</td>
<td>morning</td>
<td>shelly beach</td>
<td>gars</td>
<td>prawns</td>
<td>10</td>
<td>australian salmon</td>
<td>NaN</td>
<td>1</td>
<td>18.3</td>
<td>1.5</td>
<td>SSE</td>
<td>11</td>
<td>4</td>
<td>W</td>
<td>9.0</td>
</tr>
<tr>
<th>267</th>
<td>2016-09-04</td>
<td>afternoon</td>
<td>bombo</td>
<td>probably prawns</td>
<td>prawns</td>
<td>1</td>
<td>leather jacket</td>
<td>NaN</td>
<td>2</td>
<td>17.5</td>
<td>2.4</td>
<td>S</td>
<td>10</td>
<td>38</td>
<td>W</td>
<td>9.0</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Another-mapper-for-mapping-dictionaries">Another mapper for mapping dictionaries<a class="anchor-link" href="#Another-mapper-for-mapping-dictionaries">¶</a></h1><hr/>
<p>Above we used Levenschtein distance to imply a bait type using the name of the bait/lure. We will now classify bait types using common words or brands. This function will apply a dictionary for transformations to better capture common brands for lures and aliases for baits.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [21]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">keyword_to_bait_type</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'yama'</span><span class="p">:</span><span class="s1">'squid jigs'</span><span class="p">,</span><span class="s1">'gar'</span><span class="p">:</span><span class="s1">'bait fish'</span><span class="p">,</span><span class="s1">'slimy'</span><span class="p">:</span><span class="s1">'bait fish'</span><span class="p">,</span><span class="s1">'pil'</span><span class="p">:</span><span class="s1">'bait fish'</span><span class="p">,</span>
                   <span class="s1">'cabbage'</span><span class="p">:</span><span class="s1">'seaweed'</span><span class="p">,</span><span class="s1">'zman'</span><span class="p">:</span><span class="s1">'soft plastics'</span><span class="p">,</span><span class="s1">'squid jig'</span><span class="p">:</span><span class="s1">'squid jigs'</span><span class="p">,</span>
                   <span class="s1">'shore jig'</span><span class="p">:</span><span class="s1">'metal jigs'</span><span class="p">,</span><span class="s1">'sebile'</span><span class="p">:</span><span class="s1">'swimbaits'</span><span class="p">,</span><span class="s1">'yakka'</span><span class="p">:</span><span class="s1">'bait fish'</span><span class="p">,</span>
                       <span class="s1">'zip'</span><span class="p">:</span><span class="s1">'swimbaits'</span><span class="p">,</span><span class="s1">'samaki'</span><span class="p">:</span><span class="s1">'soft plastics'</span><span class="p">,</span><span class="s1">'halco'</span><span class="p">:</span><span class="s1">'metal jigs'</span><span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [22]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Takes a dictionary, items in testseries are replaced by values in dictionary if the key is a subset of item</span>
<span class="c1"># If not, the original series item is used in the series</span>
<span class="k">def</span> <span class="nf">tidy_mapper</span><span class="p">(</span><span class="n">testseries</span><span class="p">,</span><span class="n">dikt</span><span class="p">,</span><span class="n">origseries</span><span class="p">):</span>
    <span class="n">output</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="p">(</span><span class="n">testseries</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span><span class="n">val</span> <span class="ow">in</span> <span class="n">dikt</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">item</span><span class="p">:</span>
                <span class="n">output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">pass</span>
        <span class="c1"># if we find no matches use origseries to fill</span>
        <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">output</span><span class="p">)</span> <span class="o"><</span> <span class="n">i</span><span class="p">:</span>
            <span class="n">output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">origseries</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
            
    <span class="k">return</span> <span class="n">output</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [23]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">jv3</span><span class="p">[</span><span class="s1">'bait_type'</span><span class="p">]</span> <span class="o">=</span> <span class="n">tidy_mapper</span><span class="p">(</span><span class="n">jv3</span><span class="p">[</span><span class="s1">'baits_lures'</span><span class="p">],</span><span class="n">keyword_to_bait_type</span><span class="p">,</span><span class="n">jv3</span><span class="p">[</span><span class="s1">'bait_type'</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We recognise that this mapping still won't be perfect. I will go over the bait_type by hand at the end of this notebook.</p>
<p>Below is a sample of our progress so far.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [24]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">key_cols</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'date'</span><span class="p">,</span><span class="s1">'time'</span><span class="p">,</span><span class="s1">'spot'</span><span class="p">,</span><span class="s1">'baits_lures'</span><span class="p">,</span><span class="s1">'bait_type'</span><span class="p">,</span><span class="s1">'fish_qty'</span><span class="p">,</span>
            <span class="s1">'fish_species'</span><span class="p">,</span><span class="s1">'fish_size_max'</span><span class="p">,</span><span class="s1">'water_temp'</span><span class="p">,</span>
            <span class="s1">'swell_magnitude'</span><span class="p">,</span><span class="s1">'swell_direction'</span><span class="p">,</span><span class="s1">'swell_period'</span><span class="p">,</span> <span class="s1">'tide_direction'</span><span class="p">,</span>
            <span class="s1">'min_tide'</span><span class="p">,</span> <span class="s1">'max_tide'</span><span class="p">,</span> <span class="s1">'wind_magnitude'</span><span class="p">,</span><span class="s1">'wind_direction'</span><span class="p">,</span>
            <span class="s1">'moon_phase_percent_full'</span><span class="p">,</span><span class="s1">'year'</span><span class="p">,</span><span class="s1">'month'</span><span class="p">,</span><span class="s1">'day'</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [25]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">jv3</span><span class="p">[</span><span class="n">key_cols</span><span class="p">]</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[25]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>date</th>
<th>time</th>
<th>spot</th>
<th>baits_lures</th>
<th>bait_type</th>
<th>fish_qty</th>
<th>fish_species</th>
<th>fish_size_max</th>
<th>water_temp</th>
<th>swell_magnitude</th>
<th>...</th>
<th>swell_period</th>
<th>tide_direction</th>
<th>min_tide</th>
<th>max_tide</th>
<th>wind_magnitude</th>
<th>wind_direction</th>
<th>moon_phase_percent_full</th>
<th>year</th>
<th>month</th>
<th>day</th>
</tr>
</thead>
<tbody>
<tr>
<th>18</th>
<td>2013-07-14</td>
<td>morning</td>
<td>maroubra beach</td>
<td>string weed</td>
<td>seaweed</td>
<td>0</td>
<td>-</td>
<td>NaN</td>
<td>18.5</td>
<td>0.8</td>
<td>...</td>
<td>9.5</td>
<td>incoming</td>
<td>NaN</td>
<td>NaN</td>
<td>3.4</td>
<td>NW</td>
<td>33.0</td>
<td>2013</td>
<td>7</td>
<td>14</td>
</tr>
<tr>
<th>203</th>
<td>2016-04-29</td>
<td>morning</td>
<td>clovelly cemetary</td>
<td>squid strips (caught fresh)</td>
<td>squid</td>
<td>1</td>
<td>bream</td>
<td>NaN</td>
<td>21.5</td>
<td>1.3</td>
<td>...</td>
<td>8</td>
<td>incoming</td>
<td>0.6</td>
<td>0.7</td>
<td>15</td>
<td>NNE</td>
<td>57.0</td>
<td>2016</td>
<td>4</td>
<td>29</td>
</tr>
<tr>
<th>101</th>
<td>2015-03-08</td>
<td>morning</td>
<td>killalea</td>
<td>prawns</td>
<td>prawns</td>
<td>1</td>
<td>bream</td>
<td>NaN</td>
<td>22.2</td>
<td>1.7</td>
<td>...</td>
<td>11</td>
<td>incoming</td>
<td>NaN</td>
<td>NaN</td>
<td>6.2</td>
<td>SW</td>
<td>93.0</td>
<td>2015</td>
<td>3</td>
<td>8</td>
</tr>
<tr>
<th>97</th>
<td>2015-03-08</td>
<td>morning</td>
<td>killalea</td>
<td>little metals</td>
<td>metal jigs</td>
<td>1</td>
<td>australian salmon</td>
<td>NaN</td>
<td>22.2</td>
<td>1.7</td>
<td>...</td>
<td>11</td>
<td>incoming</td>
<td>NaN</td>
<td>NaN</td>
<td>6.2</td>
<td>SW</td>
<td>93.0</td>
<td>2015</td>
<td>3</td>
<td>8</td>
</tr>
<tr>
<th>269</th>
<td>2016-09-04</td>
<td>afternoon</td>
<td>bombo</td>
<td>probably prawns</td>
<td>prawns</td>
<td>0</td>
<td>-</td>
<td>NaN</td>
<td>17.5</td>
<td>2.4</td>
<td>...</td>
<td>10</td>
<td>incoming</td>
<td>0.7</td>
<td>1.4</td>
<td>38</td>
<td>W</td>
<td>9.0</td>
<td>2016</td>
<td>9</td>
<td>4</td>
</tr>
</tbody>
</table>
<p>5 rows × 21 columns</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Data-back-to-Google-Sheets-for-cleaning">Data back to Google Sheets for cleaning<a class="anchor-link" href="#Data-back-to-Google-Sheets-for-cleaning">¶</a></h1><hr/>
<p>If you are into fishing, you will know that some bait_type classifications are still wrong, highlighting the importance of domain knowledge in Data Analytics. I will correct these errors in Google Sheets, as manually modifying many individual cells is quicker in spreadsheet than coding.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [26]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Clear the spreadsheet first, in case we end up with a smaller spreadsheet</span>
<span class="c1"># The start coordinates are where to start writing in the sheet</span>
<span class="c1"># (1,1) is cell (A1), (2,2) will be cell (B2), etc</span>
<span class="n">sheet3</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">"Fishing Spots"</span><span class="p">)</span><span class="o">.</span><span class="n">worksheet_by_title</span><span class="p">(</span><span class="s1">'touchup'</span><span class="p">)</span>
<span class="n">sheet3</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<span class="n">sheet3</span><span class="o">.</span><span class="n">set_dataframe</span><span class="p">(</span><span class="n">jv3</span><span class="p">,</span><span class="n">start</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>After doing manual checks and fixing some cells, here is a sample of the cleaned data.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [27]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sheet3</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">"Fishing Spots"</span><span class="p">)</span><span class="o">.</span><span class="n">worksheet_by_title</span><span class="p">(</span><span class="s1">'touchup_v3'</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [28]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">j_clean1</span> <span class="o">=</span> <span class="n">sheet3</span><span class="o">.</span><span class="n">get_as_df</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [29]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">j_clean1</span><span class="p">[</span><span class="n">key_cols</span><span class="p">]</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[29]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>date</th>
<th>time</th>
<th>spot</th>
<th>baits_lures</th>
<th>bait_type</th>
<th>fish_qty</th>
<th>fish_species</th>
<th>fish_size_max</th>
<th>water_temp</th>
<th>swell_magnitude</th>
<th>...</th>
<th>swell_period</th>
<th>tide_direction</th>
<th>min_tide</th>
<th>max_tide</th>
<th>wind_magnitude</th>
<th>wind_direction</th>
<th>moon_phase_percent_full</th>
<th>year</th>
<th>month</th>
<th>day</th>
</tr>
</thead>
<tbody>
<tr>
<th>38</th>
<td>2014-05-24</td>
<td>morning</td>
<td>mahon pool</td>
<td>cabbage weed</td>
<td>seaweed</td>
<td>0</td>
<td>-</td>
<td>NaN</td>
<td>22.4</td>
<td>1.0</td>
<td>...</td>
<td>11.8</td>
<td>outgoing</td>
<td>NaN</td>
<td>NaN</td>
<td>8.2</td>
<td>W</td>
<td>19.0</td>
<td>2014</td>
<td>5</td>
<td>24</td>
</tr>
<tr>
<th>280</th>
<td>2016-11-12</td>
<td>morning</td>
<td>east reef box head</td>
<td>prawns</td>
<td>prawns</td>
<td>1</td>
<td>black drummer</td>
<td>45.0</td>
<td>20.6</td>
<td>0.9</td>
<td>...</td>
<td>8.0</td>
<td>incoming</td>
<td>1.2</td>
<td>1.8</td>
<td>10.0</td>
<td>NW</td>
<td>98.0</td>
<td>2016</td>
<td>11</td>
<td>12</td>
</tr>
<tr>
<th>67</th>
<td>2014-11-28</td>
<td>morning</td>
<td>the boot</td>
<td>squid jig</td>
<td>squid jigs</td>
<td>1</td>
<td>calamari</td>
<td>NaN</td>
<td>20.8</td>
<td>1.2</td>
<td>...</td>
<td>9.0</td>
<td>outgoing</td>
<td>NaN</td>
<td>NaN</td>
<td>10.0</td>
<td>S</td>
<td>33.0</td>
<td>2014</td>
<td>11</td>
<td>28</td>
</tr>
<tr>
<th>184</th>
<td>2016-03-14</td>
<td>night</td>
<td>honeysuckle dr</td>
<td>pillie chunks</td>
<td>bait fish</td>
<td>20</td>
<td>hairtail</td>
<td>NaN</td>
<td>24.4</td>
<td>1.3</td>
<td>...</td>
<td>9.0</td>
<td>incoming</td>
<td>1.0</td>
<td>1.7</td>
<td>4.0</td>
<td>SW</td>
<td>46.0</td>
<td>2016</td>
<td>3</td>
<td>14</td>
</tr>
<tr>
<th>224</th>
<td>2016-08-02</td>
<td>morning</td>
<td>the boot</td>
<td>whole pillie on ganghooks</td>
<td>bait fish</td>
<td>1</td>
<td>tailor</td>
<td>NaN</td>
<td>18.3</td>
<td>1.0</td>
<td>...</td>
<td>10.0</td>
<td>incoming</td>
<td>1.2</td>
<td>1.4</td>
<td>14.0</td>
<td>WNW</td>
<td>1.0</td>
<td>2016</td>
<td>8</td>
<td>2</td>
</tr>
</tbody>
</table>
<p>5 rows × 21 columns</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The next step is to incorporate suburb, catch and safety ratings.</p>
<p>Our corpus of suburbs.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [30]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">suburb_map</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'whale'</span><span class="p">:</span><span class="s1">'whale beach'</span><span class="p">,</span><span class="s1">'clovelly'</span><span class="p">:</span><span class="s1">'clovelly'</span><span class="p">,</span><span class="s1">'mahon pool'</span><span class="p">:</span><span class="s1">'maroubra'</span><span class="p">,</span>
             <span class="s1">'lurline bay'</span><span class="p">:</span><span class="s1">'maroubra'</span><span class="p">,</span><span class="s1">'tomaree'</span><span class="p">:</span><span class="s1">'port stephens'</span><span class="p">,</span><span class="s1">'blessings'</span><span class="p">:</span><span class="s1">'maroubra'</span><span class="p">,</span>
             <span class="s1">'cremorne'</span><span class="p">:</span><span class="s1">'cremorne'</span><span class="p">,</span><span class="s1">'wybung'</span><span class="p">:</span><span class="s1">'wybung'</span><span class="p">,</span><span class="s1">'ivo rowe'</span><span class="p">:</span><span class="s1">'coogee'</span><span class="p">,</span>
             <span class="s1">'the gutter'</span><span class="p">:</span><span class="s1">'little bay'</span><span class="p">,</span><span class="s1">'the boot'</span><span class="p">:</span><span class="s1">'bondi beach'</span><span class="p">,</span><span class="s1">'avoca'</span><span class="p">:</span><span class="s1">'avoca beach'</span><span class="p">,</span>
             <span class="s1">'blue'</span><span class="p">:</span><span class="s1">'manly'</span><span class="p">,</span><span class="s1">'middlehead'</span><span class="p">:</span><span class="s1">'mosman'</span><span class="p">,</span><span class="s1">'killalea'</span><span class="p">:</span><span class="s1">'killalea beach'</span><span class="p">,</span>
             <span class="s1">'bondi'</span><span class="p">:</span><span class="s1">'bondi beach'</span><span class="p">,</span><span class="s1">'shark point'</span><span class="p">:</span><span class="s1">'clovelly'</span><span class="p">,</span><span class="s1">'curl'</span><span class="p">:</span><span class="s1">'curl curl beach'</span><span class="p">,</span>
             <span class="s1">'janies corner'</span><span class="p">:</span><span class="s1">'forster'</span><span class="p">,</span><span class="s1">'hill 60'</span><span class="p">:</span><span class="s1">'port kembla'</span><span class="p">,</span><span class="s1">'parsley'</span><span class="p">:</span><span class="s1">'vaucluse'</span><span class="p">,</span>
             <span class="s1">'nielsen park'</span><span class="p">:</span><span class="s1">'vaucluse'</span><span class="p">,</span><span class="s1">'dover cliff'</span><span class="p">:</span><span class="s1">'dover heights'</span><span class="p">,</span>
             <span class="s1">'yellow rock'</span><span class="p">:</span><span class="s1">'malabar'</span><span class="p">,</span><span class="s1">'alexa parade'</span><span class="p">:</span><span class="s1">'maroubra'</span><span class="p">,</span>
             <span class="s1">'pyrmont'</span><span class="p">:</span><span class="s1">'pyrmont'</span><span class="p">,</span><span class="s1">'rose bay'</span><span class="p">:</span><span class="s1">'rose bay'</span><span class="p">,</span><span class="s1">'stake'</span><span class="p">:</span><span class="s1">'maroubra'</span><span class="p">,</span>
             <span class="s1">'honeysuckle'</span><span class="p">:</span><span class="s1">'newcastle'</span><span class="p">,</span><span class="s1">'cronulla'</span><span class="p">:</span><span class="s1">'cronulla'</span><span class="p">,</span><span class="s1">'snapper point'</span><span class="p">:</span><span class="s1">'frazer park'</span><span class="p">,</span>
             <span class="s1">'trap'</span><span class="p">:</span><span class="s1">'little bay'</span><span class="p">,</span><span class="s1">'donkeys'</span><span class="p">:</span><span class="s1">'malabar'</span><span class="p">,</span><span class="s1">'bombo'</span><span class="p">:</span><span class="s1">'bombo'</span><span class="p">,</span>
             <span class="s1">'la pa'</span><span class="p">:</span><span class="s1">'la perouse'</span><span class="p">,</span><span class="s1">'hole in the wall'</span><span class="p">:</span><span class="s1">'avalon'</span><span class="p">,</span>
             <span class="s1">'dudley beach'</span><span class="p">:</span><span class="s1">'dudley'</span><span class="p">,</span><span class="s1">'redhead'</span><span class="p">:</span><span class="s1">'redhead'</span><span class="p">,</span><span class="s1">'bond st'</span><span class="p">:</span><span class="s1">'maroubra'</span><span class="p">,</span>
             <span class="s1">'box head'</span><span class="p">:</span><span class="s1">'box head'</span><span class="p">,</span><span class="s1">'avalon'</span><span class="p">:</span><span class="s1">'avalon'</span><span class="p">,</span><span class="s1">'maroubra'</span><span class="p">:</span><span class="s1">'maroubra'</span><span class="p">,</span>
             <span class="s1">'wollumboola lake'</span><span class="p">:</span><span class="s1">'culburra beach'</span><span class="p">,</span><span class="s1">'shelly beach'</span><span class="p">:</span><span class="s1">'manly'</span><span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [31]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># we map v to vaucluse otherwise it will match too many spots</span>
<span class="n">j_clean1</span><span class="p">[</span><span class="s1">'suburb'</span><span class="p">]</span> <span class="o">=</span> <span class="n">j_clean1</span><span class="p">[</span><span class="s1">'spot'</span><span class="p">]</span>
<span class="n">j_clean1</span><span class="p">[</span><span class="s1">'suburb'</span><span class="p">]</span> <span class="o">=</span> <span class="n">j_clean1</span><span class="p">[</span><span class="s1">'suburb'</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">({</span><span class="s1">'v'</span><span class="p">:</span><span class="s1">'vaucluse'</span><span class="p">})</span>
<span class="n">j_clean1</span><span class="p">[</span><span class="s1">'suburb'</span><span class="p">]</span> <span class="o">=</span> <span class="n">tidy_mapper</span><span class="p">(</span><span class="n">j_clean1</span><span class="p">[</span><span class="s1">'spot'</span><span class="p">],</span><span class="n">suburb_map</span><span class="p">,</span><span class="n">j_clean1</span><span class="p">[</span><span class="s1">'suburb'</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [32]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">j_clean1</span><span class="p">[</span><span class="s1">'suburb'</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[32]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>array(['whale beach', 'clovelly', 'maroubra', 'manly', 'port stephens',
       'cremorne', 'wybung', 'coogee', 'little bay', 'bondi beach',
       'avoca beach', 'mosman', 'killalea beach', 'curl curl beach',
       'forster', 'port kembla', 'vaucluse', 'dover heights', 'malabar',
       'pyrmont', 'rose bay', 'newcastle', 'cronulla', 'frazer park',
       'bombo', 'la perouse', 'avalon', 'box head', 'culburra beach',
       'dudley', 'redhead'], dtype=object)</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [33]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">jv2</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[33]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>Date</th>
<th>Safety Rating</th>
<th>Catch Rating</th>
<th>Reporter</th>
<th>Spot</th>
<th>Suburb</th>
<th>Fish Species</th>
<th>Qty</th>
<th>Largest Length (cm)</th>
<th>Baits/Lures</th>
<th>...</th>
<th>Start Tide Height</th>
<th>End Tide Height</th>
<th>Wind Speed (Avg km/h)</th>
<th>Wind Direction</th>
<th>Time Start</th>
<th>Time End</th>
<th>Moon (% full)</th>
<th>Rain</th>
<th>Sun/Cloud</th>
<th>Comments</th>
</tr>
</thead>
<tbody>
<tr>
<th>0</th>
<td>30 Apr 2017</td>
<td>4</td>
<td>4</td>
<td>Jas and Scott</td>
<td>South Bondi</td>
<td>Bondi Beach</td>
<td>Squid</td>
<td>1</td>
<td>25</td>
<td>Yama Qlive 3.5 Pink</td>
<td>...</td>
<td>0.30</td>
<td>1.08</td>
<td>15.0</td>
<td>SSW</td>
<td>5:30 AM</td>
<td>9:00 AM</td>
<td>22</td>
<td>no</td>
<td>Cloudy</td>
<td>Low spot for squid, middle spot for fish</td>
</tr>
<tr>
<th>1</th>
<td>30 Apr 2017</td>
<td>4</td>
<td>4</td>
<td>Jas and Scott</td>
<td>South Bondi</td>
<td>Bondi Beach</td>
<td>Blackfish</td>
<td>5</td>
<td>35</td>
<td>Cabbage</td>
<td>...</td>
<td>0.30</td>
<td>1.08</td>
<td>15.0</td>
<td>SSW</td>
<td>5:30 AM</td>
<td>9:00 AM</td>
<td>22</td>
<td>no</td>
<td>Cloudy</td>
<td>Low spot for squid, middle spot for fish</td>
</tr>
<tr>
<th>2</th>
<td>30 Apr 2017</td>
<td>4</td>
<td>4</td>
<td>Jas and Scott</td>
<td>South Bondi</td>
<td>Bondi Beach</td>
<td>Wrasse</td>
<td>1</td>
<td>30</td>
<td>Cuttlefish</td>
<td>...</td>
<td>0.30</td>
<td>1.08</td>
<td>15.0</td>
<td>SSW</td>
<td>5:30 AM</td>
<td>9:00 AM</td>
<td>22</td>
<td>no</td>
<td>Cloudy</td>
<td>Low spot for squid, middle spot for fish</td>
</tr>
<tr>
<th>3</th>
<td>30 Apr 2017</td>
<td>4</td>
<td>4</td>
<td>Jas and Scott</td>
<td>South Bondi</td>
<td>Bondi Beach</td>
<td>Bream</td>
<td>2</td>
<td>35</td>
<td>Prawns, Cuttlefish</td>
<td>...</td>
<td>0.30</td>
<td>1.08</td>
<td>15.0</td>
<td>SSW</td>
<td>5:30 AM</td>
<td>9:00 AM</td>
<td>22</td>
<td>no</td>
<td>Cloudy</td>
<td>Low spot for squid, middle spot for fish</td>
</tr>
<tr>
<th>4</th>
<td>1 May 2017</td>
<td>4</td>
<td>4</td>
<td>Tim</td>
<td>The Trap</td>
<td>Little Bay</td>
<td>Squid</td>
<td>3</td>
<td>35</td>
<td>Squid Jig</td>
<td>...</td>
<td>0.37</td>
<td>0.81</td>
<td>10.0</td>
<td>W</td>
<td>5:30 AM</td>
<td>9:00 AM</td>
<td>32</td>
<td>no</td>
<td>Sunny</td>
<td>Tim's report</td>
</tr>
</tbody>
</table>
<p>5 rows × 26 columns</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The nice thing about this journal is that it's nearly in the form we want. So I'll apply much of the same techniques we've used above to create the same schema for both journals.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [34]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">good_spots</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'north whale'</span><span class="p">:</span><span class="s1">'north whale'</span><span class="p">,</span> <span class="s1">'clifton'</span><span class="p">:</span><span class="s1">'clifton gardens rocks'</span><span class="p">,</span>
              <span class="s1">'south bondi'</span><span class="p">:</span><span class="s1">'the boot'</span><span class="p">,</span><span class="s1">'frazer'</span><span class="p">:</span><span class="s1">'frazer'</span><span class="p">,</span><span class="s1">'diamond x'</span><span class="p">:</span><span class="s1">'diamond x'</span><span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [35]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Make all column names lower case</span>
<span class="n">jv2</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="n">jv2</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

<span class="c1"># Suburb</span>
<span class="n">jv2</span><span class="p">[</span><span class="s1">'suburb'</span><span class="p">]</span> <span class="o">=</span> <span class="n">jv2</span><span class="p">[</span><span class="s1">'suburb'</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

<span class="c1"># Safety and Catch ratings</span>
<span class="n">jv2</span><span class="p">[</span><span class="s1">'safety_rating'</span><span class="p">]</span> <span class="o">=</span> <span class="n">jv2</span><span class="p">[</span><span class="s1">'safety rating'</span><span class="p">]</span>
<span class="n">jv2</span><span class="p">[</span><span class="s1">'catch_rating'</span><span class="p">]</span> <span class="o">=</span> <span class="n">jv2</span><span class="p">[</span><span class="s1">'catch rating'</span><span class="p">]</span>

<span class="c1"># Date</span>
<span class="n">jv2</span><span class="p">[</span><span class="s1">'date'</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">jv2</span><span class="p">[</span><span class="s1">'date'</span><span class="p">],</span><span class="n">errors</span><span class="o">=</span><span class="s1">'coerce'</span><span class="p">)</span>
<span class="n">jv2</span><span class="p">[</span><span class="s1">'date'</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DatetimeIndex</span><span class="p">(</span><span class="n">jv2</span><span class="p">[</span><span class="s1">'date'</span><span class="p">])</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
<span class="n">jv2</span><span class="p">[</span><span class="s1">'year'</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DatetimeIndex</span><span class="p">(</span><span class="n">jv2</span><span class="p">[</span><span class="s1">'date'</span><span class="p">])</span><span class="o">.</span><span class="n">year</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
<span class="n">jv2</span><span class="p">[</span><span class="s1">'month'</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DatetimeIndex</span><span class="p">(</span><span class="n">jv2</span><span class="p">[</span><span class="s1">'date'</span><span class="p">])</span><span class="o">.</span><span class="n">month</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
<span class="n">jv2</span><span class="p">[</span><span class="s1">'day'</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DatetimeIndex</span><span class="p">(</span><span class="n">jv2</span><span class="p">[</span><span class="s1">'date'</span><span class="p">])</span><span class="o">.</span><span class="n">day</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>

<span class="c1"># Spot</span>
<span class="n">jv2</span><span class="p">[</span><span class="s1">'spot'</span><span class="p">]</span> <span class="o">=</span> <span class="n">jv2</span><span class="p">[</span><span class="s1">'spot'</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
<span class="n">jv2</span><span class="p">[</span><span class="s1">'spot'</span><span class="p">]</span> <span class="o">=</span> <span class="n">tidy_mapper</span><span class="p">(</span><span class="n">jv2</span><span class="p">[</span><span class="s1">'spot'</span><span class="p">],</span><span class="n">good_spots</span><span class="p">,</span><span class="n">jv2</span><span class="p">[</span><span class="s1">'spot'</span><span class="p">])</span>

<span class="c1"># Specific Bait</span>
<span class="n">jv2</span><span class="p">[</span><span class="s1">'baits_lures'</span><span class="p">]</span> <span class="o">=</span> <span class="n">jv2</span><span class="p">[</span><span class="s1">'baits/lures'</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

<span class="c1"># Bait types</span>
<span class="n">jv2</span><span class="p">[</span><span class="s1">'bait_type'</span><span class="p">]</span> <span class="o">=</span> <span class="n">fuzzy_mapper</span><span class="p">(</span><span class="n">jv2</span><span class="p">[</span><span class="s1">'baits_lures'</span><span class="p">],</span><span class="n">bait_classes</span><span class="p">)</span>
<span class="n">jv2</span><span class="p">[</span><span class="s1">'bait_type'</span><span class="p">]</span> <span class="o">=</span> <span class="n">tidy_mapper</span><span class="p">(</span><span class="n">jv2</span><span class="p">[</span><span class="s1">'baits_lures'</span><span class="p">],</span><span class="n">keyword_to_bait_type</span><span class="p">,</span><span class="n">jv2</span><span class="p">[</span><span class="s1">'bait_type'</span><span class="p">])</span>

<span class="c1"># Water temp is good already</span>
<span class="n">jv2</span><span class="p">[</span><span class="s1">'water_temp'</span><span class="p">]</span> <span class="o">=</span> <span class="n">jv2</span><span class="p">[</span><span class="s1">'water temp'</span><span class="p">]</span>

<span class="c1"># Swell</span>
<span class="c1"># Take the average of min and max for magnitdue</span>
<span class="n">jv2</span><span class="p">[</span><span class="s1">'swell_magnitude'</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">jv2</span><span class="p">[</span><span class="s1">'swell min'</span><span class="p">]</span> <span class="o">+</span> <span class="n">jv2</span><span class="p">[</span><span class="s1">'swell max'</span><span class="p">])</span><span class="o">/</span><span class="mi">2</span>
<span class="c1"># Direction already good</span>
<span class="n">jv2</span><span class="p">[</span><span class="s1">'swell_direction'</span><span class="p">]</span> <span class="o">=</span> <span class="n">jv2</span><span class="p">[</span><span class="s1">'swell direction'</span><span class="p">]</span>
<span class="c1"># Period already good</span>
<span class="n">jv2</span><span class="p">[</span><span class="s1">'swell_period'</span><span class="p">]</span> <span class="o">=</span> <span class="n">jv2</span><span class="p">[</span><span class="s1">'swell period'</span><span class="p">]</span>

<span class="c1"># Wind</span>
<span class="n">jv2</span><span class="p">[</span><span class="s1">'wind_magnitude'</span><span class="p">]</span> <span class="o">=</span> <span class="n">jv2</span><span class="p">[</span><span class="s1">'wind speed (avg km/h)'</span><span class="p">]</span>
<span class="n">jv2</span><span class="p">[</span><span class="s1">'wind_direction'</span><span class="p">]</span> <span class="o">=</span> <span class="n">jv2</span><span class="p">[</span><span class="s1">'wind direction'</span><span class="p">]</span>

<span class="c1"># Moon</span>
<span class="n">jv2</span><span class="p">[</span><span class="s1">'moon_phase_percent_full'</span><span class="p">]</span> <span class="o">=</span> <span class="n">jv2</span><span class="p">[</span><span class="s1">'moon (</span><span class="si">% f</span><span class="s1">ull)'</span><span class="p">]</span>

<span class="c1"># Fish</span>
<span class="n">jv2</span><span class="p">[</span><span class="s1">'fish_qty'</span><span class="p">]</span> <span class="o">=</span> <span class="n">jv2</span><span class="p">[</span><span class="s1">'qty'</span><span class="p">]</span>
<span class="n">jv2</span><span class="p">[</span><span class="s1">'fish_size_max'</span><span class="p">]</span> <span class="o">=</span> <span class="n">jv2</span><span class="p">[</span><span class="s1">'largest length (cm)'</span><span class="p">]</span>
<span class="n">jv2</span><span class="p">[</span><span class="s1">'fish_species'</span><span class="p">]</span> <span class="o">=</span> <span class="n">jv2</span><span class="p">[</span><span class="s1">'fish species'</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
<span class="n">jv2</span><span class="p">[</span><span class="s1">'fish_species'</span><span class="p">]</span> <span class="o">=</span> <span class="n">fuzzy_mapper</span><span class="p">(</span><span class="n">jv2</span><span class="p">[</span><span class="s1">'fish_species'</span><span class="p">],</span><span class="n">fish</span><span class="p">)</span>

<span class="c1"># Time</span>
<span class="n">jv2</span><span class="p">[</span><span class="s1">'time'</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">jv2</span><span class="p">[</span><span class="s1">'time start'</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s1">'am'</span><span class="p">,</span><span class="n">case</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="p">,</span><span class="s1">'morning'</span><span class="p">,</span><span class="s1">'afternoon'</span><span class="p">)</span>

<span class="c1"># Rain. Data is clean and all 'no'</span>
<span class="n">jv2</span><span class="p">[</span><span class="s1">'rain_when'</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">jv2</span><span class="p">[</span><span class="s1">'rain'</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s1">'no'</span><span class="p">,</span><span class="n">case</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># light level info</span>
<span class="n">jv2</span><span class="p">[</span><span class="s1">'light_level'</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">jv2</span><span class="p">[</span><span class="s1">'sun/cloud'</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s1">'sun'</span><span class="p">,</span><span class="n">case</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># tide info</span>
<span class="n">jv2</span><span class="p">[</span><span class="s1">'min_tide'</span><span class="p">]</span> <span class="o">=</span> <span class="n">jv2</span><span class="p">[[</span><span class="s1">'start tide height'</span><span class="p">,</span><span class="s1">'end tide height'</span><span class="p">]]</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">'columns'</span><span class="p">)</span>
<span class="n">jv2</span><span class="p">[</span><span class="s1">'max_tide'</span><span class="p">]</span> <span class="o">=</span> <span class="n">jv2</span><span class="p">[[</span><span class="s1">'start tide height'</span><span class="p">,</span><span class="s1">'end tide height'</span><span class="p">]]</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">'columns'</span><span class="p">)</span>
<span class="n">jv2</span><span class="p">[</span><span class="s1">'tide_direction'</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">jv2</span><span class="p">[</span><span class="s1">'start tide height'</span><span class="p">]</span> <span class="o">-</span> <span class="n">jv2</span><span class="p">[</span><span class="s1">'end tide height'</span><span class="p">]</span> <span class="o">></span> <span class="mi">0</span><span class="p">,</span><span class="s1">'outgoing'</span><span class="p">,</span><span class="s1">'incoming'</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Update key columns to account for safety rating, catch rating and suburb.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [36]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">key_cols</span><span class="o">=</span> <span class="p">[</span><span class="s1">'date'</span><span class="p">,</span> <span class="s1">'time'</span><span class="p">,</span> <span class="s1">'safety_rating'</span><span class="p">,</span><span class="s1">'catch_rating'</span><span class="p">,</span> <span class="s1">'spot'</span><span class="p">,</span> 
           <span class="s1">'suburb'</span><span class="p">,</span> <span class="s1">'baits_lures'</span><span class="p">,</span> <span class="s1">'bait_type'</span><span class="p">,</span> <span class="s1">'fish_qty'</span><span class="p">,</span> <span class="s1">'fish_species'</span><span class="p">,</span> 
           <span class="s1">'fish_size_max'</span><span class="p">,</span> <span class="s1">'water_temp'</span><span class="p">,</span> <span class="s1">'swell_magnitude'</span><span class="p">,</span> <span class="s1">'swell_direction'</span><span class="p">,</span> 
           <span class="s1">'swell_period'</span><span class="p">,</span> <span class="s1">'tide_direction'</span><span class="p">,</span> <span class="s1">'min_tide'</span><span class="p">,</span> <span class="s1">'max_tide'</span><span class="p">,</span> 
           <span class="s1">'wind_magnitude'</span><span class="p">,</span> <span class="s1">'wind_direction'</span><span class="p">,</span> <span class="s1">'moon_phase_percent_full'</span><span class="p">,</span> 
           <span class="s1">'year'</span><span class="p">,</span> <span class="s1">'month'</span><span class="p">,</span> <span class="s1">'day'</span><span class="p">,</span><span class="s1">'light_level'</span><span class="p">,</span><span class="s1">'rain_when'</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [37]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">jv2</span><span class="p">[</span><span class="n">key_cols</span><span class="p">]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[37]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>date</th>
<th>time</th>
<th>safety_rating</th>
<th>catch_rating</th>
<th>spot</th>
<th>suburb</th>
<th>baits_lures</th>
<th>bait_type</th>
<th>fish_qty</th>
<th>fish_species</th>
<th>...</th>
<th>min_tide</th>
<th>max_tide</th>
<th>wind_magnitude</th>
<th>wind_direction</th>
<th>moon_phase_percent_full</th>
<th>year</th>
<th>month</th>
<th>day</th>
<th>light_level</th>
<th>rain_when</th>
</tr>
</thead>
<tbody>
<tr>
<th>0</th>
<td>2017-04-30</td>
<td>morning</td>
<td>4</td>
<td>4</td>
<td>the boot</td>
<td>bondi beach</td>
<td>yama qlive 3.5 pink</td>
<td>squid jigs</td>
<td>1</td>
<td>squid</td>
<td>...</td>
<td>0.30</td>
<td>1.08</td>
<td>15.0</td>
<td>SSW</td>
<td>22</td>
<td>2017</td>
<td>4</td>
<td>30</td>
<td>1</td>
<td>2</td>
</tr>
<tr>
<th>1</th>
<td>2017-04-30</td>
<td>morning</td>
<td>4</td>
<td>4</td>
<td>the boot</td>
<td>bondi beach</td>
<td>cabbage</td>
<td>seaweed</td>
<td>5</td>
<td>blackfish</td>
<td>...</td>
<td>0.30</td>
<td>1.08</td>
<td>15.0</td>
<td>SSW</td>
<td>22</td>
<td>2017</td>
<td>4</td>
<td>30</td>
<td>1</td>
<td>2</td>
</tr>
<tr>
<th>2</th>
<td>2017-04-30</td>
<td>morning</td>
<td>4</td>
<td>4</td>
<td>the boot</td>
<td>bondi beach</td>
<td>cuttlefish</td>
<td>bait fish</td>
<td>1</td>
<td>wrasse</td>
<td>...</td>
<td>0.30</td>
<td>1.08</td>
<td>15.0</td>
<td>SSW</td>
<td>22</td>
<td>2017</td>
<td>4</td>
<td>30</td>
<td>1</td>
<td>2</td>
</tr>
<tr>
<th>3</th>
<td>2017-04-30</td>
<td>morning</td>
<td>4</td>
<td>4</td>
<td>the boot</td>
<td>bondi beach</td>
<td>prawns, cuttlefish</td>
<td>prawns</td>
<td>2</td>
<td>bream</td>
<td>...</td>
<td>0.30</td>
<td>1.08</td>
<td>15.0</td>
<td>SSW</td>
<td>22</td>
<td>2017</td>
<td>4</td>
<td>30</td>
<td>1</td>
<td>2</td>
</tr>
<tr>
<th>4</th>
<td>2017-05-01</td>
<td>morning</td>
<td>4</td>
<td>4</td>
<td>the trap</td>
<td>little bay</td>
<td>squid jig</td>
<td>squid jigs</td>
<td>3</td>
<td>squid</td>
<td>...</td>
<td>0.37</td>
<td>0.81</td>
<td>10.0</td>
<td>W</td>
<td>32</td>
<td>2017</td>
<td>5</td>
<td>1</td>
<td>2</td>
<td>2</td>
</tr>
</tbody>
</table>
<p>5 rows × 26 columns</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>What is missing between our two journals? Only catch_rating and safety rating.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [38]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">set</span><span class="p">(</span><span class="n">jv2</span><span class="p">[</span><span class="n">key_cols</span><span class="p">])</span> <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="n">j_clean1</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[38]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>{'catch_rating', 'safety_rating'}</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Again like jv3 I will send this dataframe to Google Sheets for a touch up on the fish species and bait type columns.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [39]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Clear the spreadsheet first, in case we end up with a smaller spreadsheet</span>
<span class="c1"># The start coordinates are where to start writing in the sheet</span>
<span class="c1"># (1,1) is cell (A1), (2,2) will be cell (B2), etc</span>
<span class="n">sheet3</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">"Fishing Spots"</span><span class="p">)</span><span class="o">.</span><span class="n">worksheet_by_title</span><span class="p">(</span><span class="s1">'touchup'</span><span class="p">)</span>
<span class="n">sheet3</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<span class="n">sheet3</span><span class="o">.</span><span class="n">set_dataframe</span><span class="p">(</span><span class="n">jv2</span><span class="p">,</span><span class="n">start</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>After cleaning in Google Sheets, back here.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [40]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sheet3</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">"Fishing Spots"</span><span class="p">)</span><span class="o">.</span><span class="n">worksheet_by_title</span><span class="p">(</span><span class="s1">'touchup_v2'</span><span class="p">)</span>
<span class="n">j_clean2</span> <span class="o">=</span> <span class="n">sheet3</span><span class="o">.</span><span class="n">get_as_df</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [41]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">key_cols</span><span class="o">=</span> <span class="p">[</span><span class="s1">'date'</span><span class="p">,</span> <span class="s1">'time'</span><span class="p">,</span> <span class="s1">'safety_rating'</span><span class="p">,</span><span class="s1">'catch_rating'</span><span class="p">,</span> <span class="s1">'spot'</span><span class="p">,</span> 
           <span class="s1">'suburb'</span><span class="p">,</span> <span class="s1">'baits_lures'</span><span class="p">,</span> <span class="s1">'bait_type'</span><span class="p">,</span> <span class="s1">'fish_qty'</span><span class="p">,</span> <span class="s1">'fish_species'</span><span class="p">,</span> 
           <span class="s1">'fish_size_max'</span><span class="p">,</span> <span class="s1">'water_temp'</span><span class="p">,</span> <span class="s1">'swell_magnitude'</span><span class="p">,</span> <span class="s1">'swell_direction'</span><span class="p">,</span> 
           <span class="s1">'swell_period'</span><span class="p">,</span> <span class="s1">'tide_direction'</span><span class="p">,</span> <span class="s1">'min_tide'</span><span class="p">,</span> <span class="s1">'max_tide'</span><span class="p">,</span> 
           <span class="s1">'wind_magnitude'</span><span class="p">,</span> <span class="s1">'wind_direction'</span><span class="p">,</span> <span class="s1">'moon_phase_percent_full'</span><span class="p">,</span> 
           <span class="s1">'year'</span><span class="p">,</span> <span class="s1">'month'</span><span class="p">,</span> <span class="s1">'day'</span><span class="p">,</span><span class="s1">'light_level'</span><span class="p">,</span><span class="s1">'rain_when'</span><span class="p">,</span><span class="s1">'bustoff?'</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [42]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">j_clean3</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">j_clean1</span><span class="p">,</span><span class="n">j_clean2</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [43]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">j_clean3</span><span class="p">[</span><span class="n">key_cols</span><span class="p">]</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="n">random_state</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[43]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>date</th>
<th>time</th>
<th>safety_rating</th>
<th>catch_rating</th>
<th>spot</th>
<th>suburb</th>
<th>baits_lures</th>
<th>bait_type</th>
<th>fish_qty</th>
<th>fish_species</th>
<th>...</th>
<th>max_tide</th>
<th>wind_magnitude</th>
<th>wind_direction</th>
<th>moon_phase_percent_full</th>
<th>year</th>
<th>month</th>
<th>day</th>
<th>light_level</th>
<th>rain_when</th>
<th>bustoff?</th>
</tr>
</thead>
<tbody>
<tr>
<th>22</th>
<td>2017-08-06</td>
<td>morning</td>
<td>4.0</td>
<td>5.0</td>
<td>north bondi</td>
<td>bondi beach</td>
<td>yama qlive 3.5 pink</td>
<td>squid jigs</td>
<td>2</td>
<td>cuttlefish</td>
<td>...</td>
<td>1.30</td>
<td>27.0</td>
<td>NNW</td>
<td>99.0</td>
<td>2017</td>
<td>8</td>
<td>6</td>
<td>2</td>
<td>2</td>
<td>NaN</td>
</tr>
<tr>
<th>123</th>
<td>2015-05-07</td>
<td>morning</td>
<td>NaN</td>
<td>NaN</td>
<td>the blessings</td>
<td>maroubra</td>
<td>bread</td>
<td>bread</td>
<td>1</td>
<td>bream</td>
<td>...</td>
<td>1.20</td>
<td>NaN</td>
<td>W</td>
<td>50.0</td>
<td>2015</td>
<td>5</td>
<td>7</td>
<td>2</td>
<td>2</td>
<td></td>
</tr>
<tr>
<th>308</th>
<td>2017-02-05</td>
<td>morning</td>
<td>NaN</td>
<td>NaN</td>
<td>snapper point</td>
<td>frazer park</td>
<td>surecatch knight 25g</td>
<td>metal jigs</td>
<td>1</td>
<td>flounder</td>
<td>...</td>
<td>0.50</td>
<td>7.8</td>
<td>SW</td>
<td>65.0</td>
<td>2017</td>
<td>2</td>
<td>5</td>
<td>2</td>
<td>2</td>
<td></td>
</tr>
<tr>
<th>3</th>
<td>2017-04-30</td>
<td>morning</td>
<td>4.0</td>
<td>4.0</td>
<td>the boot</td>
<td>bondi beach</td>
<td>prawns</td>
<td>prawns</td>
<td>2</td>
<td>bream</td>
<td>...</td>
<td>1.08</td>
<td>15.0</td>
<td>SSW</td>
<td>22.0</td>
<td>2017</td>
<td>4</td>
<td>30</td>
<td>1</td>
<td>2</td>
<td>NaN</td>
</tr>
<tr>
<th>35</th>
<td>2017-12-13</td>
<td>morning</td>
<td>4.0</td>
<td>3.0</td>
<td>north bondi</td>
<td>bondi beach</td>
<td>cabbage</td>
<td>seaweed</td>
<td>4</td>
<td>blackfish</td>
<td>...</td>
<td>1.44</td>
<td>0.0</td>
<td>N</td>
<td>20.0</td>
<td>2017</td>
<td>12</td>
<td>13</td>
<td>2</td>
<td>2</td>
<td>NaN</td>
</tr>
</tbody>
</table>
<p>5 rows × 27 columns</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [44]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">j_clean3</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre><class 'pandas.core.frame.DataFrame'>
Int64Index: 370 entries, 0 to 43
Data columns (total 27 columns):
bait_type                  370 non-null object
baits_lures                370 non-null object
bustoff?                   326 non-null object
catch_rating               44 non-null float64
date                       370 non-null object
day                        370 non-null int64
fish_qty                   370 non-null int64
fish_size_max              76 non-null float64
fish_species               370 non-null object
light_level                370 non-null int64
max_tide                   259 non-null float64
min_tide                   259 non-null float64
month                      370 non-null int64
moon_phase_percent_full    363 non-null float64
rain_when                  370 non-null int64
safety_rating              44 non-null float64
spot                       370 non-null object
suburb                     370 non-null object
swell_direction            365 non-null object
swell_magnitude            367 non-null float64
swell_period               329 non-null float64
tide_direction             370 non-null object
time                       370 non-null object
water_temp                 365 non-null float64
wind_direction             369 non-null object
wind_magnitude             352 non-null float64
year                       370 non-null int64
dtypes: float64(10), int64(6), object(11)
memory usage: 80.9+ KB
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This is as clean as we'll go for this notebook.</p>
<p>I will manually enter values into Safety and Catch ratings another time.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [45]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Clear the spreadsheet first, in case we end up with a smaller spreadsheet</span>
<span class="c1"># The start coordinates are where to start writing in the sheet</span>
<span class="c1"># (1,1) is cell (A1), (2,2) will be cell (B2), etc</span>
<span class="n">sheet4</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">"Fishing Spots"</span><span class="p">)</span><span class="o">.</span><span class="n">worksheet_by_title</span><span class="p">(</span><span class="s1">'Journalv4'</span><span class="p">)</span>
<span class="n">sheet4</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<span class="n">sheet4</span><span class="o">.</span><span class="n">set_dataframe</span><span class="p">(</span><span class="n">j_clean3</span><span class="p">[</span><span class="n">key_cols</span><span class="p">],</span><span class="n">start</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Finally a little exploratory data analysis with some conditions for catching kingfish. Let's assume we care about number of kingfish caught and see if there are any interesting weather conditions for this.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [46]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">kingy</span> <span class="o">=</span> <span class="n">j_clean3</span><span class="p">[[</span><span class="s1">'fish_species'</span><span class="p">,</span><span class="s1">'fish_qty'</span><span class="p">,</span><span class="s1">'water_temp'</span><span class="p">,</span><span class="s1">'swell_magnitude'</span><span class="p">,</span><span class="s1">'swell_direction'</span><span class="p">,</span>
         <span class="s1">'tide_direction'</span><span class="p">]][</span><span class="n">j_clean3</span><span class="o">.</span><span class="n">fish_species</span> <span class="o">==</span> <span class="s1">'kingfish'</span><span class="p">]</span>
<span class="n">kingy</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[46]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>fish_species</th>
<th>fish_qty</th>
<th>water_temp</th>
<th>swell_magnitude</th>
<th>swell_direction</th>
<th>tide_direction</th>
</tr>
</thead>
<tbody>
<tr>
<th>5</th>
<td>kingfish</td>
<td>1</td>
<td>20.5</td>
<td>1.4</td>
<td>E</td>
<td>incoming</td>
</tr>
<tr>
<th>14</th>
<td>kingfish</td>
<td>1</td>
<td>18.3</td>
<td>1.5</td>
<td>SSE</td>
<td>incoming</td>
</tr>
<tr>
<th>25</th>
<td>kingfish</td>
<td>2</td>
<td>19.0</td>
<td>1.1</td>
<td>E</td>
<td>incoming</td>
</tr>
<tr>
<th>27</th>
<td>kingfish</td>
<td>1</td>
<td>21.3</td>
<td>0.9</td>
<td>S</td>
<td>incoming</td>
</tr>
<tr>
<th>28</th>
<td>kingfish</td>
<td>1</td>
<td>21.3</td>
<td>0.9</td>
<td>S</td>
<td>incoming</td>
</tr>
<tr>
<th>70</th>
<td>kingfish</td>
<td>1</td>
<td>21.2</td>
<td>1.2</td>
<td>NE</td>
<td>incoming</td>
</tr>
<tr>
<th>81</th>
<td>kingfish</td>
<td>3</td>
<td>22.6</td>
<td>1.3</td>
<td>E</td>
<td>outgoing</td>
</tr>
<tr>
<th>83</th>
<td>kingfish</td>
<td>2</td>
<td>22.6</td>
<td>1.3</td>
<td>E</td>
<td>outgoing</td>
</tr>
<tr>
<th>106</th>
<td>kingfish</td>
<td>6</td>
<td>21.8</td>
<td>1.4</td>
<td>WNW</td>
<td>outgoing</td>
</tr>
<tr>
<th>147</th>
<td>kingfish</td>
<td>1</td>
<td>20.2</td>
<td>1.2</td>
<td>SE</td>
<td>outgoing</td>
</tr>
<tr>
<th>158</th>
<td>kingfish</td>
<td>1</td>
<td>19.0</td>
<td>1.4</td>
<td>SSE</td>
<td>incoming</td>
</tr>
<tr>
<th>159</th>
<td>kingfish</td>
<td>2</td>
<td>20.0</td>
<td>1.1</td>
<td>ENE</td>
<td>outgoing</td>
</tr>
<tr>
<th>164</th>
<td>kingfish</td>
<td>1</td>
<td>21.0</td>
<td>1.0</td>
<td>ENE</td>
<td>outgoing</td>
</tr>
<tr>
<th>173</th>
<td>kingfish</td>
<td>1</td>
<td>23.6</td>
<td>1.6</td>
<td>ESE</td>
<td>outgoing</td>
</tr>
<tr>
<th>175</th>
<td>kingfish</td>
<td>1</td>
<td>23.5</td>
<td>NaN</td>
<td>SE</td>
<td>outgoing</td>
</tr>
<tr>
<th>180</th>
<td>kingfish</td>
<td>3</td>
<td>24.1</td>
<td>1.0</td>
<td>E</td>
<td>incoming</td>
</tr>
<tr>
<th>183</th>
<td>kingfish</td>
<td>1</td>
<td>24.1</td>
<td>1.0</td>
<td>E</td>
<td>incoming</td>
</tr>
<tr>
<th>189</th>
<td>kingfish</td>
<td>1</td>
<td>24.4</td>
<td>1.0</td>
<td>SSE</td>
<td>outgoing</td>
</tr>
<tr>
<th>267</th>
<td>kingfish</td>
<td>0</td>
<td>19.5</td>
<td>1.2</td>
<td>WNW</td>
<td>incoming</td>
</tr>
<tr>
<th>275</th>
<td>kingfish</td>
<td>3</td>
<td>20.6</td>
<td>0.9</td>
<td>ENE</td>
<td>incoming</td>
</tr>
<tr>
<th>289</th>
<td>kingfish</td>
<td>1</td>
<td>21.1</td>
<td>0.8</td>
<td>E</td>
<td>outgoing</td>
</tr>
<tr>
<th>293</th>
<td>kingfish</td>
<td>3</td>
<td>21.1</td>
<td>0.8</td>
<td>E</td>
<td>outgoing</td>
</tr>
<tr>
<th>311</th>
<td>kingfish</td>
<td>1</td>
<td>22.7</td>
<td>1.3</td>
<td>SE</td>
<td>incoming</td>
</tr>
<tr>
<th>312</th>
<td>kingfish</td>
<td>1</td>
<td>22.7</td>
<td>1.3</td>
<td>SE</td>
<td>incoming</td>
</tr>
<tr>
<th>318</th>
<td>kingfish</td>
<td>1</td>
<td>24.1</td>
<td>1.0</td>
<td>SE</td>
<td>incoming</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [47]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">kingy</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre><class 'pandas.core.frame.DataFrame'>
Int64Index: 25 entries, 5 to 318
Data columns (total 6 columns):
fish_species       25 non-null object
fish_qty           25 non-null int64
water_temp         25 non-null float64
swell_magnitude    24 non-null float64
swell_direction    25 non-null object
tide_direction     25 non-null object
dtypes: float64(2), int64(1), object(3)
memory usage: 1.4+ KB
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The first thing to notice is that this is only a toy dataset, with only 25 entries. We'll just make some visualisations for fun.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [48]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Percentage of kingfish caught in tide conditions</span>
<span class="n">cTide</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">kingy</span><span class="p">[</span><span class="s1">'tide_direction'</span><span class="p">][</span><span class="n">kingy</span><span class="o">.</span><span class="n">tide_direction</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>

<span class="n">g</span> <span class="o">=</span> <span class="n">hc</span><span class="o">.</span><span class="n">Highcharts</span><span class="p">()</span>

<span class="n">g</span><span class="o">.</span><span class="n">chart</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s1">'pie'</span>
<span class="n">g</span><span class="o">.</span><span class="n">tooltip</span><span class="o">.</span><span class="n">headerFormat</span> <span class="o">=</span> <span class="s1">'<b></span><span class="si">{point.key}</span><span class="s1"></b><br>'</span>
<span class="n">g</span><span class="o">.</span><span class="n">tooltip</span><span class="o">.</span><span class="n">pointFormat</span><span class="o">=</span> <span class="s1">'<b></span><span class="si">{point.percentage:.1f}</span><span class="s1">%</b> <br></span><span class="si">{point.y}</span><span class="s1"> of 24'</span>
<span class="n">gpo</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">plotOptions</span><span class="o">.</span><span class="n">pie</span>
<span class="n">gpo</span><span class="o">.</span><span class="n">showInLegend</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">gpo</span><span class="o">.</span><span class="n">dataLabels</span><span class="o">.</span><span class="n">enabled</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">gpo</span><span class="o">.</span><span class="n">dataLabels</span><span class="o">.</span><span class="n">distance</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">gpo</span><span class="o">.</span><span class="n">dataLabels</span><span class="o">.</span><span class="n">format</span> <span class="o">=</span> <span class="s1">'</span><span class="si">{point.name}</span><span class="s1">: </span><span class="si">{point.percentage:.1f}</span><span class="s1">%'</span>

<span class="n">g</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s1">'Tide Percentage for Kingfish'</span>
<span class="n">g</span><span class="o">.</span><span class="n">series</span> <span class="o">=</span> <span class="n">hc</span><span class="o">.</span><span class="n">build</span><span class="o">.</span><span class="n">series</span><span class="p">(</span><span class="n">cTide</span><span class="p">)</span>

<span class="n">g</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[48]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div id="07658011_645f_4758_baed_d012be883654"><div id="07658011_645f_4758_baed_d012be883654container_chart"></div></div><script>
    // the Jupyter notebook loads jquery.min.js  and require.js and at the top of the page
    // then to make jquery available inside a require module
    // the trick is https://www.manuel-strehl.de/dev/load_jquery_before_requirejs.en.html
    define('jquery', [], function() {
        return jQuery;
    });

    require(["jquery", "https://code.highcharts.com/stock/highstock.js", "https://d3js.org/d3.v3.min.js"], function() {
        require(["https://cdn.datatables.net/1.10.10/js/jquery.dataTables.min.js", "https://code.highcharts.com/stock/highcharts-more.js", "https://code.highcharts.com/modules/drilldown.js", "https://code.highcharts.com/modules/exporting.js", "https://code.highcharts.com/modules/heatmap.js", "https://code.highcharts.com/modules/treemap.js", "https://code.highcharts.com/modules/sunburst.js", "https://highcharts.github.io/export-csv/export-csv.js"], function() {
            
    var options = {"credits":{"enabled":false},"exporting":{"enabled":true},"chart":{"animation":false,"type":"pie","renderTo":"07658011_645f_4758_baed_d012be883654container_chart"},"series":[{"name":"tide_direction","yAxis":0,"data":[["incoming",14],["outgoing",11]]}],"plotOptions":{"series":{"animation":false},"line":{"animation":false},"column":{"animation":false},"bar":{"animation":false},"pie":{"animation":false,"showInLegend":false,"dataLabels":{"enabled":true,"distance":0,"format":"{point.name}: {point.percentage:.1f}%"}},"scatter":{"animation":false},"bubble":{"animation":false},"treemap":{"animation":false}},"tooltip":{"headerFormat":"<b>{point.key}<\/b><br>","pointFormat":"<b>{point.percentage:.1f}%<\/b> <br>{point.y} of 24"},"title":{"text":"Tide Percentage for Kingfish"}};
    
options = JSON.stringify(options);

options = JSON.parse(options, function (key, value) {

	if (value && (typeof value === "string")) {

				var check1 = (value.replace(/\s+/g, '').replace(/\r?\n|\r/g, '').substr(0, 8) == "function"),
			check2 = (value.replace(/\s+/g, '').replace(/\r?\n|\r/g, '').substr(0, 9) == "(function");


		if (check1) {
			var startBody = value.indexOf('{') + 1;
			var endBody = value.lastIndexOf('}');
			var startArgs = value.indexOf('(') + 1;
			var endArgs = value.indexOf(')');

			return new Function(value.substring(startArgs, endArgs),
				value.substring(startBody, endBody));
		}
		if (check2) {
			return eval(value);
		}

	}

	return value;

});
    

    var opt = $.extend(true, {}, options);
    if (window.opts==undefined) {
        window.opts = {};
    }
    window.opts['07658011_645f_4758_baed_d012be883654'] = opt;

    console.log('Highcharts/Highstock options accessible as opts["07658011_645f_4758_baed_d012be883654"]');
    
            
            window.chart = new Highcharts.Chart(options);
            
    console.log('Highcharts/Highstock chart accessible as charts["07658011_645f_4758_baed_d012be883654"]');
    
        });
    });
    </script>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [49]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">regplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">'water_temp'</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="s1">'fish_qty'</span><span class="p">,</span><span class="n">data</span><span class="o">=</span><span class="n">kingy</span><span class="p">)</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">'Kingfish caught vs Water temperature'</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
SUro/wMhxyznHExBwgAAAABJRU5ErkJggg==
"/>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [50]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">regplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">'swell_magnitude'</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="s1">'fish_qty'</span><span class="p">,</span><span class="n">data</span><span class="o">=</span><span class="n">kingy</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">'green'</span><span class="p">)</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">'Kingfish caught vs Swell magnitude'</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
bSLpJzR7K7SSFq2kRZol0y5J0joMV5K0RfWzPs2kSavXopU0HTslbROGK0naYpq9Jsu9ZVa6y15q
RtqGDFeStAUk/YQj3cMsd53IU9ruDFeSNGFZltFJO3TSNu20Qydpe8hP2kG2TLhK+ym1am3aZUhS
qQZBqpt28iCVtumlXQ/3STvYlglX/3jkJqqVGvO1eRrVOeZrc8zV5pmrzVGtVKddniSdVJZldPtd
OkneI9Ut/jdISbNly4QrgH6W0kqatGged3+92jghdDWqDSqVypQqlaR8FvRO2qad5D1SBilJsMXC
1ShJv3fCAM8KFerVBnO1ORrVOeZqjbynqzpn6JJUuqSf5NfnSwZjpdpkWX/aZUnagrZFuFpPRkav
3113EGjewzVPowhcC7UF6tVt21RJEzYcpPKxUl7oWNLm7cjEsRq6hjq76tUGC7UF5mvzLNQXma/N
T69ASVtK0k/yIQlJm3bS8sw9SWdkR4ar9ST9Hkf7PY72llfvW67v4/Bym3qlTq1ap1Gt06jNMVed
Y642N8VqJY1LP+vTTvLxUZ2iV8p5pSSVaWbC1XrSLM3P5qFzwmMVKscFLUOXtP1kWUY7aXO4c5fz
SUmamJkOVxvJyFZPox4+vLgaumrzzFUbNGpzzFfz8V2SpivLstWLGreTFp20zf7abu5oHZ12aZJm
iOHqFB0XuoZUqORTRNTmmKseO3PR0CWNVz/r0+ytsJI0afZWHHguaeoMVyXJyOikbTpp+7j7K5Vq
EbLmmB/8rM179qJ0BtJ+ykrvKCu9FVpJ07mlJG0p7uHHLMv6q6Fr+MBEpVJlvjrPXG2e+doc8/UF
5+iSNtBLe6uBqp22pl2OJI1kuJqSLOvTTlvH7SQG47nmawvHLv9TnfOai5pJWZbRTts0e02aycoJ
h+IlaasyXG0hw+O5lofur1XqxaSoc9QrNeq1Bo1qo5hCwuClnaOX9mglTZrF/86ALmk7MlxtA2mW
0EwSSFZOeGwwpmtweDH/Oe/FrrUtdNIO7aRFO2nTSlqkWTLtkiTpjBmutrnhMV3DvV31auOE0OUc
XZq2tJ/STFZo9pqsJCv2TEnakQxXO9TgYtfNod6u4YlRa0s9jvY6ztGlsepn/dXeqZXeygln00rS
TmS4miHDY7q+08y4YyU/f3F4ji6ni9DpyLKMXr9XXFKmm3/O+l0vKyNpJrn31HFzdK2dLmIwR9dg
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
"/>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Our scatter plots with regression lines find no patterns so far. We can't really draw any conclusions from this since our dataset is so small.</p>
<p>One takeaway is that future data about a trip should always include fish targeted that weren't caught as part of the report. So if we are targeting snapper and catch none, there should be an entry for Snapper caught = 0. Sometimes trips are taken to just see what is around, so for those we can't write such an entry.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Conclusion">Conclusion<a class="anchor-link" href="#Conclusion">¶</a></h1><hr/>
<p>In this notebook we cleaned and transformed out data from two journals and made them into one with the ideal schema moving forward.</p>
<p>We learned a little on Regular Expressions, Levenschtein distance and general functions that can be used for cleaning in Pandas.</p>
<h2 id="Limitations">Limitations<a class="anchor-link" href="#Limitations">¶</a></h2><ul>
<li>Historical weather conditions missing for some trips</li>
<li>Safety rating and catch rating missing for most trips</li>
<li>Hidden variables. We recognise that there will always be hidden variables in fishing.</li>
</ul>
<h2 id="Future-Work">Future Work<a class="anchor-link" href="#Future-Work">¶</a></h2><ul>
<li>Update safety rating and catch rating. Will be a manual process.</li>
<li>Find historic swell and weather data</li>
</ul>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="References">References<a class="anchor-link" href="#References">¶</a></h1><hr/>
<p><a href="https://chairnerd.seatgeek.com/fuzzywuzzy-fuzzy-string-matching-in-python/">Chair Nerd Blog - FuzzyWuzzy: Fuzzy String Matching in Python</a> 2018</p>
<p><a href="https://regex101.com/">Regex101 - Testing Regular Expressions</a> 2018</p>
<p><a href="https://stackoverflow.com/">Stack Overflow - Various Questions (Regular Expressions and Pandas)</a> 2018</p>
<p><a href="https://gspread.readthedocs.io/en/latest/">Gspread (Google Sheets API) official documentation</a> 2018</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a id="Appendix1"></a></p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [51]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Chris Said's script to hide a bunch of stuff</span>
<span class="n">HTML</span><span class="p">(</span><span class="s1">'''<script></span>
<span class="s1">  $(document).ready(function(){</span>
<span class="s1">    $('div.prompt').hide();</span>
<span class="s1">    $('div.back-to-top').hide();</span>
<span class="s1">    $('nav#menubar').hide();</span>
<span class="s1">    $('.breadcrumb').hide();</span>
<span class="s1">    $('.hidden-print').hide();</span>
<span class="s1">  });</span>
<span class="s1"></script></span>
<span class="s1">'''</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[51]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<script>
  $(document).ready(function(){
    $('div.prompt').hide();
    $('div.back-to-top').hide();
    $('nav#menubar').hide();
    $('.breadcrumb').hide();
    $('.hidden-print').hide();
  });
</script>
</div>
</div>
</div>
</div>
</div>

<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = '//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: 'center'," +
        "    displayIndent: '0em'," +
        "    showMathMenu: true," +
        "    tex2jax: { " +
        "        inlineMath: [ ['$','$'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        " linebreaks: { automatic: true, width: '95% container' }, " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }" +
        "    } " +
        "}); ";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script>
        </div>

        <div class="meta">
            <div>
                    <a href="https://jasonwillschiu.github.io/tag/python.html" class="tag">python</a>
                    <a href="https://jasonwillschiu.github.io/tag/jupyter-notebooks.html" class="tag">jupyter notebooks</a>
                    <a href="https://jasonwillschiu.github.io/tag/pandas.html" class="tag">pandas</a>
                    <a href="https://jasonwillschiu.github.io/tag/google-sheets.html" class="tag">google sheets</a>
                    <a href="https://jasonwillschiu.github.io/tag/api.html" class="tag">api</a>
                    <a href="https://jasonwillschiu.github.io/tag/regex.html" class="tag">regex</a>
            </div>
        </div>
    </article>

  <section>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div>
    <script type="text/javascript">
      var disqus_shortname = 'jasonwillschiu';
      var disqus_identifier = '/blog/2018-02-04-FishingPart2/';
      var disqus_url = 'https://jasonwillschiu.github.io/blog/2018-02-04-FishingPart2/';
      var disqus_title = 'Predictive Fishing part 2 - Data Wrangling';
      (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = "//" + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
    </script>
  </section>

</div>

<style type="text/css">
{
    max-width: 700px;
}

.text_cell .prompt {
    display: none;
}

div.cell {
    padding: 0;
}

div.text_cell_render {
    padding: 0;
}

div.prompt {
    font-size: 13px;
}

div.input_prompt {
    padding: .7em 0.2em;
}

div.output_prompt {
    padding: .4em .2em;
}

div.input_area {
    margin: .2em 0.4em;
    max-width: 580px;
}

table.dataframe {
    font-family: Arial, sans-serif;
    font-size: 13px;
    line-height: 20px;
}

table.dataframe th, td {
    padding: 4px;
    text-align: left;
}

pre code {
    background-color: inherit;
}</style>

        </div>
<!--
    <footer>
      <p>
        © 2012-2017 Jason Wills Chiu, license <a href=""> </a>
        unless otherwise noted.
        Generated by <a href= "https://docs.getpelican.com/">Pelican</a>.
      </p>
    </footer>
-->
    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-109814892-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'https://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-109814892-1');
    ga('send', 'pageview');
</script>
    </body>
</html>